\chapter{Motion Groups}
\label{chapter:motion_groups}

From now on,
$\VectorSpace$ will denote a finite-dimensional vector space over $\R$,
while $\CompactGroup$ is a compact Lie subgroup of $\GeneralLinear\VectorSpace$.
We then define the \emph{motion group} as the \emph{semi-direct product} between $\VectorSpace$ and $\CompactGroup$.

In this chapter,
we start by observing that the compactness of $\CompactGroup$ is a very rigid condition,
as it implies that $\CompactGroup \subset \SpecialOrthogonalGroup \VectorSpace$.
Using the fact that both $\Laplacian [\VectorSpace]$ and the Lebesgue measure are invariant under $\SpecialOrthogonalGroup \VectorSpace$,
we show that the motion group has the \emph{same Haar measure} and \emph{same Laplacian} as $\GroupDirect$.
Moreover,
the representations of the motion group seem formally very close to those of $\GroupDirect$, provided that they are grouped on either side.

All these observations lead to the conclusion
that although the Fourier theory on our group might seem identical to the one of $\GroupDirect$,
the resemblance is actually very deceptive,
as we shall see in Chapter~\ref{chapter:symbolic_calculus}.

\section{Motion groups}

Given $x, y \in \VectorSpace$
let us denote by $g_{x, k}$ the affine transformation on $\VectorSpace$ consisting in a rotation by $k$ followed by a translation by $x$.
Naturally,
such transformations compose in the following way
\begin{align*}
    (g_{x, k} \circ g_{y, l})(z) = g_{x + k y, k l},
\end{align*}
where $x, y \in \VectorSpace$ and $k, l \in \SpecialOrthogonalGroup \VectorSpace$.

This motivates the following definition.

\begin{definition}[Motion group]
\label{definition:motion_group}
\index{motion group}
    Let $\Group$ be a group.
    We shall say that $\Group$ is a \emph{motion group}
    if there exists a finite dimensional real vector space $\VectorSpace$
    and a compact connected Lie group $\CompactGroup \subset \GeneralLinear\VectorSpace$
    such that $\Group$ is the \emph{semi-direct product} $\VectorSpace \ltimes \CompactGroup$.
    More precisely, $\Group = \VectorSpace \times \CompactGroup$ as a set, and
    \begin{align*}
        (x, k) (y, l) \defeq (x + ky, k l)
    \end{align*}
    for every $(x, k), (y, l) \in \Group$.
\end{definition}

\begin{remark}
\label{remark:notation_kx}
    Let $x \in \VectorSpace$ and $k \in \CompactGroup$.
    We will never identify $x$ with $(x, \Id{\VectorSpace}) \in \VectorSpace \ltimes \CompactGroup$,
    or $k$ with $(0, k) \in \VectorSpace \ltimes \CompactGroup$.
    Therefore, when we write $k x$, it will \emph{always} mean the vector obtained by rotating $x$ by $k$, i.e.\ $k(x)$.
\end{remark}

\begin{example}[Vector spaces]
\label{example:trivial_case_of_motion_groups}
    Suppose that $\CompactGroup = \{\Id\VectorSpace\}$.
    It follows that $\Group \defeq \VectorSpace \ltimes \CompactGroup$ is isomorphic to $\VectorSpace$.
\end{example}

\begin{example}[Euclidean Motion Groups]
\label{example:Euclidean_motion_groups}
\index{Euclidean motion group}
    For each $n \in \N$, let
    \begin{align*}
        \MotionGroup{n} \defeq \{g \in \AffineTransformations{\R^n} : \det g = 1\}.
    \end{align*}
    The elements of $\MotionGroup{n}$ are called \emph{rigid motions},
    while $\MotionGroup{n}$ is called the \emph{Euclidean motion group}.

    It is easily shown that associating $(x, k) \in \R^n \ltimes \SpecialOrthogonalGroup{n}$ to the motion
    \begin{align*}
        g_{(x, k)} : \R^n \to \R^n : y \mapsto x + ky
    \end{align*}
    defines a group isomorphism between $\R^n \ltimes \SpecialOrthogonalGroup{n}$ and $\MotionGroup{n}$.
    We shall therefore identify $\MotionGroup{n}$ with $\R^n \ltimes \SpecialOrthogonalGroup{n}$ from now on.
\end{example}

\begin{example}
    \label{example:complex_motion_groups}
    Let $n \in \N$.
    Consider the group
    \begin{align*}
        \{g \in \AffineTransformations{\C^n} : \det_{\C^n} g = 1\}
    \end{align*}
    where the law is the composition of functions.

    Arguing like in Example~\ref{example:Euclidean_motion_groups},
    the above group can be identified with $\C^n \ltimes \SpecialUnitaryGroup{n}$.
\end{example}

\begin{remark}
    Since in our examples (e.g. Example \ref{example:complex_motion_groups}) our vector space might be $\C^n$,
    we choose to use $\VectorSpace$ to denote the vector space instead of simply $\R^n$ to avoid any confusion.
\end{remark}

Up until now,
the vector space $\VectorSpace$ was not given a \emph{Euclidean structure}.
The following Lemma shows that $\VectorSpace$ can be endowed with an inner product that behaves well under the action of $\CompactGroup$.

\begin{lemma}[$\CompactGroup$-invariant inner product]
\label{lemma:existence_of_K-invariant_inner_product}
    Let $\VectorSpace$ be a vector space,
    and $\CompactGroup$ be a compact Lie group acting on $\VectorSpace$.
    There exists an inner product $\ip{\dummy}{\dummy} : \VectorSpace \times \VectorSpace \to \R$ which is $\CompactGroup$-invariant,
    i.e.\ for each $k \in \CompactGroup$ and every $x, y \in \VectorSpace$, we have
    \begin{align*}
        \ip{x}{y} = \ip{k x}{k y}.
    \end{align*}
\end{lemma}
\begin{proof}
    Let $Q : \VectorSpace \times \VectorSpace \to \R$ be an arbitrary inner product.
    Given $x, y \in \VectorSpace$, we let
    \begin{align*}
        \ip{x}{y} \defeq \int_\CompactGroup Q(k x, k y) \dd k,
    \end{align*}
    where $\dd k$ is the Haar measure on $\CompactGroup$.

    It follows that if $k \in \CompactGroup$,
    then using the right-invariance of the Haar measure on compact groups,
    (for this, see for example \cite[Theorem 7.4.21]{RuzhanskyTurunen10})
    we obtain
    \begin{align*}
        \ip{k x}{k y}
        = \int_\CompactGroup Q(h k x, h k y) \dd h
        = \int_\CompactGroup Q(h x, h y) \dd h
        = \ip{x}{y},
    \end{align*}
    i.e.\ $\ip{\dummy}{\dummy}$ is $\CompactGroup$-invariant.

    The fact that $\ip{\dummy}{\dummy}$ is bilinear and non-negative definite follows immediately from the fact that $Q$ has those properties.
    Now, if $x, y \in \VectorSpace$ are such that $\ip{x}{x} = 0$,
    then it follows that $Q(k x, k x) = 0$ for almost every $k \in \CompactGroup$, hence for at least one such $k$.
    However, that means that $k x = 0$, hence $x = 0$ as $k$ is invertible.
\end{proof}

From now on, $\VectorSpace$ will be given the structure of \emph{Euclidean space} with a $\CompactGroup$-invariant inner product
whose existence is given by Lemma~\ref{lemma:existence_of_K-invariant_inner_product}.

To obtain a \emph{unitary Fourier Transform},
we normalise the \emph{Haar measure} on $\VectorSpace$ as follows.

\begin{definition}[Lebesgue measure]
    We call the \emph{Lebesgue measure} on $\VectorSpace$
    the unique Haar measure $\mu$ on $\VectorSpace$ such that
    \begin{align*}
        \mu\left(\{x \in \VectorSpace : \ip{x}{x} \leq 1\}\right) = \frac{\pi^{\dim \VectorSpace/2}}{\Gamma(\frac{\dim \VectorSpace}{2} + 1)}.
    \end{align*}
\end{definition}

From now on, integration on $\VectorSpace$ will always be performed with respect to the above Lebesgue measure.

Lemma~\ref{lemma:existence_of_K-invariant_inner_product} easily implies the following.

\begin{lemma}
\label{lemma:K_subset_of_SO_and_invariance_of_the_induced_Lebesgue_measure}
    With the inner product defined in Lemma~\ref{lemma:existence_of_K-invariant_inner_product},
    $\CompactGroup$ is a Lie subgroup of $\SpecialOrthogonalGroup\VectorSpace$.
    In particular, any Haar measure on $\VectorSpace$ is also invariant under the action of $\CompactGroup$.
\end{lemma}

From the invariance of the Lebesgue measure on $\VectorSpace$ under the action of $\CompactGroup$,
we deduce that the \emph{Haar measure} of $\Group = \VectorSpace \ltimes \CompactGroup$
is that of the direct product $\VectorSpace \times \CompactGroup$.

\begin{lemma}[Haar measure]
\label{lemma:Haar_measure}
    If $\dd x$ is the Lebesgue measure on $\VectorSpace$ and $\dd k$ is the normalized Haar measure on $\CompactGroup$,
    then the the product measure $\dd x \dd k$ is a Haar measure on $\Group = \VectorSpace \ltimes \CompactGroup$,
    which is both left and right-invariant.
\end{lemma}
\begin{proof}
    Let $(x, k) \in \Group$.
    \begin{align*}
        \int_\Group f((x, k) (y, l)) \dd (y, l)
        = \int_\VectorSpace \int_\CompactGroup f(x + ky, k l) \dd l \dd y
    \end{align*}

    Now, let us substitute $y$ for $k^{-1}(y - x)$ and $l$ for $k^{-1} l$ in the above.
    As the Lebesgue measure is invariant under $\OrthogonalGroup{\VectorSpace}$ and under translations,
    and because the Haar measure $\dd l$ is left-invariant,
    we obtain
    \begin{align*}
        \int_\Group f((x, k) (y, l)) \dd (y, l)
        &= \int_\VectorSpace \int_\CompactGroup f(y, l) \dd l \dd y\\
        &= \int_\Group f(y, l) \dd (y, l),
    \end{align*}
    showing that $\dd y \dd l$ is indeed a Haar measure on $\Group$.

    Since by Proposition~\ref{proposition:sufficient_conditions_to_be_unimodular}, $\dd l$ is also right-invariant,
    arguing similarly shows that $\dd y \dd l$ is also right-invariant.
\end{proof}

The following proposition summarizes how $\CompactGroup$ affects key objects on $\VectorSpace$.

\begin{proposition}
    Let $\VectorSpace$ be a finite dimensional vector space
    and $\CompactGroup$ be a subgroup of $\SpecialOrthogonalGroup\VectorSpace$.
    The following properties hold:
    \begin{enumerate}
        \item The Lebesgue measure on $\VectorSpace$ is invariant under $\CompactGroup$,
            i.e.\ for every $k \in \CompactGroup$ and each Borel set $A \subset \VectorSpace$, we have
            \begin{align*}
                \int_A 1 \dd x = \int_{kA} 1 \dd x;
            \end{align*}
        \item The Laplacian on $\VectorSpace$ is invariant under $\CompactGroup$,
            i.e.\ for every $k \in \CompactGroup$ and every $\phi \in \SmoothFunctions\VectorSpace$, we have
            \begin{align*}
                \Laplacian[\VectorSpace] (\phi \circ k)(x) = \Laplacian[\VectorSpace] \phi(k x);
            \end{align*}
        \item The action of $\CompactGroup$ on $\VectorSpace$ commutes with the dilation structure of $\VectorSpace$.
    \end{enumerate}
\end{proposition}
\begin{proof}
    \begin{enumerate}
        \item This follows easily from the change of variables formula,
            \begin{align*}
                \int_{k A} 1 \dd x
                = \int_A (1 \circ k) \det k \dd x
                = \int_A 1 \dd x,
            \end{align*}
            where we used the fact that $\det k = 1$ since $k \in \SpecialOrthogonalGroup\VectorSpace$.
        \item First, observe that
            \begin{align*}
                \dd (\phi \circ k)(x) = \dd \phi(k x) k
            \end{align*}
            which implies that $\grad (\phi \circ k)(x) = k^{-1} \grad \phi(k x)$.

            From there, using the fact that $\Hessian = \dd \grad$,
            \begin{align*}
                \Hessian (\phi \circ k)(x) = (\dd \grad(\phi \circ k))(x) = k^{-1} (\Hessian \phi(k x)) k.
            \end{align*}

            Therefore, we conclude by observing that
            \begin{align*}
                \Laplacian[\VectorSpace] (\phi \circ k)(x)
                = \tr (\Hessian (\phi \circ k)(x))
                = \tr (\Hessian \phi (k x))
                = \Laplacian[\VectorSpace] \phi(k x).
            \end{align*}
        \item This is a direct consequence of the fact that the dilation structure on $\VectorSpace$ is scalar.
    \end{enumerate}
\end{proof}

\section{Lie algebra structure}

The difference between the semi-direct structure and its direct counterpart is most easily seen when studying the \emph{Lie algebra}.

We shall henceforth denote by $\LieAlgebraCompactGroup$ the Lie algebra of $\CompactGroup$.

\begin{definition}[Lie algebra of $\Group$]
\label{definition:Lie_algebra}
    We shall call the set
    \begin{align*}
        \LieAlgebra \defeq
        \VectorSpace \oplus \LieAlgebraCompactGroup
    \end{align*}
    the \emph{Lie algebra} of $\Group$.
    Given $(X_1, Y_1), (X_2, Y_2) \in \LieAlgebra$,
    we define its \emph{Lie bracket} via
    \begin{align*}
        \LieBracket{(X_1, Y_1)}{(X_2, Y_2)}
        \defeq \left(Y_1 X_2 - Y_2 X_1, \LieBracket[\LieAlgebraCompactGroup]{Y_1}{Y_2}\right).
    \end{align*}
\end{definition}

The Lie algebra $\LieAlgebra$ is characterized by the following \emph{commutation relations}.

\begin{lemma}[Commutation relations]
    Suppose that $X_1$, $X_2$, $X \in \VectorSpace$ and $Y_1$, $Y_2$, $Y \in \LieAlgebraCompactGroup$.
    We have the following \emph{commutation relations}
    \begin{align*}
        \LieBracket{X_1}{X_2} = 0,\quad
        \LieBracket{Y}{X} = (Y X, 0),\quad
        \LieBracket{Y_1}{Y_2} = \LieBracket[\LieAlgebraCompactGroup]{Y_1}{Y_2}.
    \end{align*}
\end{lemma}

On the motion group,
the \emph{exponential map} has the following expression.

\begin{definition}[Exponential map]
\label{definition:exponential_map}
\index{motion group!exponential map}
    The \emph{exponential map} on $\Group$ is the map
    \begin{align*}
        \exp_\Group : \LieAlgebra \to \Group : (X, Y) \mapsto \left(\sum_{k = 0}^\infty \frac{Y^k}{{(k + 1)}!} X, \exp_\CompactGroup Y\right)
    \end{align*}
\end{definition}

Definitions~\ref{definition:exponential_map} and~\ref{definition:Lie_algebra}
are motivated by the following proposition.

\begin{proposition}
    Fix an orthonormal basis $e_1, \cdots, e_n$ of $\VectorSpace$,
    and consider the map
    \begin{align*}
        \Phi : \Group \to \GeneralLinear{n + 1} : (x, k) \mapsto
        \begin{pmatrix}
            \tilde k & \tilde x\\
            0 & 1,
        \end{pmatrix}
    \end{align*}
    where $\tilde k \in \SpecialOrthogonalGroup n$ and $\tilde x \in \R^n$ satisfy
    \begin{align*}
        {\tilde k}_{ij} = \ip {k e_j} {e_i} \text{ and } {\tilde x}_i = \ip x {e_i}
    \end{align*}
    for all $i, j \in \{1, \cdots, n\}$.

    The following properties hold:
    \begin{enumerate}
        \item $\Phi$ is a faithful representation of $\Group$.
        \item The map
            \begin{align*}
                \eval {\dd \Phi} {(0, \Id \VectorSpace)} : \LieAlgebra \to \Lie(\Phi(\Group))
            \end{align*}
            is an isomorphism of Lie algebras.
        \item The exponential map $\exp_\LieAlgebra$ satisfies
            \begin{align*}
                (\Phi \circ \exp_\LieAlgebra) (X) = \sum_{j = 0}^{+\infty} \frac {{(\eval {\dd \Phi} {(0, \Id \VectorSpace)}(X))}^j} {j!}
            \end{align*}
            for every $X \in \LieAlgebra$.
    \end{enumerate}
\end{proposition}
\begin{proof}
    Assume without loss of generality that $\VectorSpace = \R^n$
    and that the chosen basis is the canonical one so that $k = \tilde k$ and $x = \tilde x$.

    \begin{enumerate}
        \item
            Suppose $(x, k), (y, l) \in \Group$.
            It follows that
            \begin{align*}
                \Phi(x, k) \Phi(y, l)
                &=
                \begin{pmatrix}
                    k & x\\
                    0 & 1
                \end{pmatrix}
                \begin{pmatrix}
                    l & y\\
                    0 & 1
                \end{pmatrix}\\
                &=
                \begin{pmatrix}
                    kl & ky + x\\
                    0 & 1
                \end{pmatrix}
                = \Phi((x, k) (y, l)),
            \end{align*}
            so $\Phi$ is indeed a group representation.
            The fact that $\Phi$ is faithful is trivial.
        \item
            Suppose $X \oplus Y \in \LieAlgebra$.
            We can check that
            \begin{align*}
                \eval {\dd \Phi} {(0, \Id \VectorSpace)} (X \oplus Y)
                &=
                [(\LeftDifferentialOperatorFirstOrder X + \LeftDifferentialOperatorFirstOrder Y) \Phi]
                (0_\VectorSpace, \Id \VectorSpace)\\
                &=
                \begin{pmatrix}
                    0 & X\\
                    0 & 0
                \end{pmatrix}
                +
                \begin{pmatrix}
                    Y & 0\\
                    0 & 0
                \end{pmatrix}\\
                &=
                \begin{pmatrix}
                    Y & X\\
                    0 & 0
                \end{pmatrix}.
            \end{align*}

            Then, we can check that
            \begin{align*}
                &\eval {\dd \Phi} {(0, \Id \VectorSpace)} (\LieBracket {(X_1, Y_1)} {(X_2, Y_2)})\\
                &\quad= \eval {\dd \Phi} {((0, \Id \VectorSpace)} (Y_1 X_2 - Y_2 X_1, Y_1 Y_2 - Y_2 Y_1)\\
                &\quad=
                \begin{pmatrix}
                    Y_1 Y_2 & Y_1 X_2\\
                    0 & 0
                \end{pmatrix}
                -
                \begin{pmatrix}
                    Y_2 Y_1 & Y_2 X_1\\
                    0 & 0
                \end{pmatrix}\\
                &\quad=
                \begin{pmatrix}
                    Y_1 & X_1\\
                    0 & 0
                \end{pmatrix}
                \begin{pmatrix}
                    Y_2 & X_2\\
                    0 & 0
                \end{pmatrix}
                -
                \begin{pmatrix}
                    Y_2 & X_2\\
                    0 & 0
                \end{pmatrix}
                \begin{pmatrix}
                    Y_1 & X_1\\
                    0 & 0
                \end{pmatrix},
            \end{align*}
            which means that we have
            \begin{align*}
                &\eval {\dd \Phi} {(0, \Id \VectorSpace)} (\LieBracket {(X_1, Y_1)} {(X_2, Y_2)})\\
                &\quad =
                \LieBracket [\eval {\dd \Phi} {(0, \Id \VectorSpace)} (\LieAlgebra)]
                {\eval {\dd \Phi} {(0, \Id \VectorSpace)} (X_1, Y_1)}
                {\eval {\dd \Phi} {(0, \Id \VectorSpace)} (X_2, Y_2)}.
            \end{align*}
        \item
            Suppose again that $X \oplus Y \in \LieAlgebra$.
            We can easily check by induction that
            \begin{align*}
                (\eval {\dd \Phi} {(0, \Id \VectorSpace)} (X, Y))^k
                =
                \begin{pmatrix}
                    Y^k & Y^{k - 1} X\\
                    0 & 0
                \end{pmatrix}
            \end{align*}
            for $k \geq 1$.

            Therefore, it follows that
            \begin{align*}
                \sum_{k = 0}^{+\infty} \frac 1 {k!}
                (\eval {\dd \Phi} {(0, \Id \VectorSpace)} (X, Y))^k
                &=
                \begin{pmatrix}
                    \Id \VectorSpace & 0\\
                    0 & 1
                \end{pmatrix}
                +
                \sum_{k = 1}^{+\infty} \frac 1 {k!}
                \begin{pmatrix}
                    Y^k & Y^{k - 1} X\\
                    0 & 0
                \end{pmatrix}\\
                &=
                \begin{pmatrix}
                    \exp_\LieAlgebraCompactGroup Y & \sum_{k = 0}^{+\infty} \frac{1}{(k + 1)!} Y^{k} X\\
                    0 & 1
                \end{pmatrix}\\
                &= (\Phi \circ \exp_\LieAlgebra) (X, Y),
            \end{align*}
            which is what we wanted to show.
    \end{enumerate}
\end{proof}

Naturally,
we can define differential operators which are left- or right-invariant
via the exponential map.

\begin{definition}[Left and right-invariant vector fields]
\label{definition:invariant_differential_operators}
    Let $X \in \LieAlgebra$.
    We define $\LeftDifferentialOperatorFirstOrder{X}$,
    the \emph{left-invariant differential operator associated with $X$}, via
    \begin{align*}
        \LeftDifferentialOperatorFirstOrder{X} f(g)
            \defeq \eval{\D*{1}{t}}{t = 0} f(g \exp_\Group(t X)),
    \end{align*}
    for each $f \in \SmoothFunctions{\Group}$.

    Similarly,
    we define $\RightDifferentialOperatorFirstOrder{X}$,
    the \emph{right-invariant differential operator associated with $X$}, via
    \begin{align*}
        \RightDifferentialOperatorFirstOrder{X} f(g)
            \defeq \eval{\D*{1}{t}}{t = 0} f(\exp_\Group(t X) g),
    \end{align*}
    where $f \in \SmoothFunctions{\Group}$.
\end{definition}

\begin{proposition}
    Let $X \in \LieAlgebra$.
    The differential operator $\LeftDifferentialOperatorFirstOrder{X}$ is the only differential operator satisfying the following properties:
    \begin{enumerate}
        \item $\LeftDifferentialOperatorFirstOrder{X}$ is \emph{left-invariant},
            i.e. for every $h \in \Group$, we have
            \begin{align*}
                (X f(h \dummy))(g) = (X f)(h g);
            \end{align*}
        \item The vector in $T_e \Group$ corresponding to the differentiation by $\LeftDifferentialOperatorFirstOrder{X}$ at $e$ is precisely $X$.
        \item Given $X, Y \in \LieAlgebra$, we have
            \begin{align*}
                \eval{%
                    (\LeftDifferentialOperatorFirstOrder{X} \LeftDifferentialOperatorFirstOrder{Y} - \LeftDifferentialOperatorFirstOrder{Y} \LeftDifferentialOperatorFirstOrder{X})
                }{e}
                = \LeftDifferentialOperatorFirstOrder{\LieBracket{X}{Y}}.
            \end{align*}
    \end{enumerate}
\end{proposition}

We now describe explicitely the Lie algebra of Euclidean motion groups.

\begin{example}[$2$-dimensional Euclidean motion group]
\label{example:Lie_Algebra_of_2-dimensional_Euclidean_motion_group}
    Assume $\Group = \R^2 \ltimes \T$.
    The Lie Algebra is the vector space
    \begin{align*}
        \LieAlgebra \defeq \R^2 \oplus \SkewSymmetric{\R^2}.
    \end{align*}

    The vectors
    \begin{align*}
        X_1 = (1, 0) &\oplus
            \begin{pmatrix}
                0 & 0\\
                0 & 0
            \end{pmatrix},\quad
        X_2 = (0, 1) \oplus
            \begin{pmatrix}
                0 & 0\\
                0 & 0
            \end{pmatrix},\\
        &X_3 = (0, 0) \oplus
            \begin{pmatrix}
                0 & -1\\
                1 &  0
            \end{pmatrix},
    \end{align*}
    form a basis of $\LieAlgebra$
    which satisfies the commutation relations
    \begin{align*}
        \LieBracket{X_1}{X_2} = 0,\quad
        \LieBracket{X_2}{X_3} = X_1,\quad
        \LieBracket{X_3}{X_1} = X_2.
    \end{align*}

    Moreover, if $f \in \SmoothFunctions{\Group}$,
    then the associated left-invariant operators act via
    \begin{align*}
        \LeftDifferentialOperatorFirstOrder{X_1} f(x, t)
            &= \cos(\turn t) \D{1}[f]{{x_1} }(x, t) + \sin(\turn t) \D{1}[f]{{x_2} }(x, t)\\
        \LeftDifferentialOperatorFirstOrder{X_2} f(x, t)
            &= -\sin(\turn t) \D{1}[f]{{x_1} }(x, t) + \cos(\turn t) \D{1}[f]{{x_2} }(x, t)\\
        \LeftDifferentialOperatorFirstOrder{X_3} f(x, t)
            &= \D{1}[f]{t}(x, t),
    \end{align*}
    where $(x, t) \in \R^2 \ltimes \T$.
\end{example}

\begin{example}[Euclidean motion groups]
    Assume $G = \R^n \ltimes \SpecialOrthogonalGroup n$.
    Its Lie algebra is the vector space
    \begin{align*}
        \LieAlgebra \defeq \R^n \oplus \SkewSymmetric {\R^n}.
    \end{align*}

    For each pair of distinct $i, j \in \{1, \cdots, n\}$,
    we let $E_{ij}$ be the only matrix satisfying
    \begin{align*}
        E_{ij} e_k = \Kronecker i j e_j - \Kronecker j k e_i
    \end{align*}
    for each $k \in \{1, \cdots, n\}$.

    A basis of $\LieAlgebra$ can now be given by
    \begin{align*}
        X_i &\defeq e_i \oplus 0_{\SquareMatrices n}, &\quad &i = 1, \cdots, n\\
        X_{ij} &\defeq 0_{\R^n} \oplus E_{ij}, &\quad &i,j \in \{1, \cdots, n\} \text{ with } i < j,
    \end{align*}
    and these vectors satisfy the following commutation relations
    \begin{align*}
        \LieBracket {X_i} {X_j} &= 0\\
        \LieBracket {X_{ij}} {X_{k}} &= \Kronecker i k X_j - \Kronecker j k X_i\\
        \LieBracket {X_{ij}} {X_{kl}} &= \Kronecker j l X_{i k} - \Kronecker j k X_{i l}
    \end{align*}
    where in the above $i < j$, $k < l$ and
    for the last commutation relation we additionally assume $i < k$.
\end{example}

Let us compute the expression of a left-invariant derivatives arising from $\VectorSpace \subset \LieAlgebra$.

\begin{lemma}
\label{lemma:Euclidean_left-invariant_derivatives}
    Let $X \in \VectorSpace \subset \LieAlgebra$.
    If $\phi \in \SmoothFunctions\Group$,
    \begin{align*}
        \LeftDifferentialOperatorFirstOrder{X} \phi(x, k)
        &= \ip{k^{-1} \grad \phi(x, k)}{X}.
    \end{align*}
\end{lemma}
\begin{proof}
    By a simple calculation,
    \begin{align*}
        \LeftDifferentialOperatorFirstOrder{X} \phi(x, k)
        =& \eval{\D*{1}{t}}{t = 0} \phi((x, k) (t X, \Id\VectorSpace))\\
        =& \eval{\D*{1}{t}}{t = 0} \phi(x + t k X, k)\\
        =& \ip{\grad \phi(x, k)}{k X}.
    \end{align*}

    From there, it follows that:
    \begin{align*}
        \LeftDifferentialOperatorFirstOrder{X} \phi(x, k)
        = \ip{k^{-1} \grad \phi(x, k)}{X}.
    \end{align*}
\end{proof}

Let us choose a basis of $\LieAlgebra$.
Since $\CompactGroup$ is compact,
$\LieAlgebraCompactGroup$ is \emph{reductive}~\cite[Corollary 4.25]{Knapp02}.
Therefore, it follows that
\begin{align*}
    \LieAlgebra = \VectorSpace \oplus \mathfrak a \oplus \mathfrak s,
\end{align*}
where $\mathfrak a$ is \emph{abelian} and $\mathfrak s$ is \emph{semisimple}.
In particular, we can naturally define an inner product $\ip[\LieAlgebra]\dummy\dummy$ on $\LieAlgebra$ via the Killing form of $\mathfrak k$~\cite[Corollary 4.26]{Knapp02}.

From now on,
$X_1, \cdots, X_{\dim \Group}$ will denote a basis such that
\begin{enumerate}
    \item the collection is orthonormal with respect to $\ip[\LieAlgebra]\dummy\dummy$;
    \item If $1 \leq j \leq \dim \VectorSpace$, then $X_j \in \VectorSpace$,
        otherwise $X_j \in \LieAlgebraCompactGroup$.
\end{enumerate}

\begin{definition}
    Let $\alpha \in \N^{\dim \Group}$.
    We define the left-invariant differential operator $\LeftDifferentialOperator{\alpha}$ via
    \begin{align*}
        \LeftDifferentialOperator{\alpha} =
        \LeftDifferentialOperatorFirstOrder{X_1}^{\alpha_1} \cdots
        \LeftDifferentialOperatorFirstOrder{X_{\dim \Group}}^{\alpha_{\dim \Group}}
    \end{align*}
\end{definition}

A very important example of left-invariant differential operator is the following.

\begin{definition}[Left-invariant Laplacian]
\label{definition:left-invariant_Laplacian}
\index{Laplacian}
    The \emph{left-invariant Laplacian} $\Laplacian$ is the left-invariant differential operator
    \begin{align*}
        \Laplacian \defeq \sum_{j = 1}^{\dim \Group} \LeftDifferentialOperatorFirstOrder{X_j}^2
    \end{align*}
\end{definition}

Deceptively,
the left-invariant Laplacian of $\Group$ is identical to the one of $\GroupDirect$.
It is however important to keep in mind that this operator is \emph{not right-invariant} with the semidirect structure.

\begin{proposition}[Left-invariant Laplacian]
    Let $f \in \SmoothFunctions\Group$.
    If $(x, k) \in \Group$, we check that
    \begin{align*}
        \Laplacian f(x, k) = \Laplacian[\VectorSpace] f(x, k) + \Laplacian[\CompactGroup] f(x, k)
    \end{align*}
\end{proposition}
\begin{proof}
    Let $(x, k) \in \Group$.
    By Lemma~\ref{lemma:Euclidean_left-invariant_derivatives},
    we check that for each $j \in \{1, \cdots, \dim \VectorSpace\}$,
    \begin{align*}
        \LeftDifferentialOperatorFirstOrder{X_j} \LeftDifferentialOperatorFirstOrder{X_j} f(x, k)
        &= \LeftDifferentialOperatorFirstOrder{X_j} \ip{k^{-1} \grad f(x, k)}{e_j}\\
        &= \ip{k^{-1} \dd \grad f(x, k)[k e_j]}{e_j}\\
        &= \ip{k^{-1} \Hessian f(x, k) k e_j}{e_j}.
    \end{align*}

    Summing with respect to $j$, we get that
    \begin{align*}
        \sum_{j = 0}^{\dim \VectorSpace} \LeftDifferentialOperatorFirstOrder{X_j} \LeftDifferentialOperatorFirstOrder{X_j} f(x, k)
        = \tr \Hessian f(x, k) = \Laplacian[\VectorSpace] f(x, k).
    \end{align*}

    The sum over $j = \dim \VectorSpace + 1, \dots, \dim \Group$
    is the \emph{Casimir element} of $\LieAlgebraCompactGroup$.
    By~\cite[Subsection 8.3.2]{RuzhanskyTurunen10},
    it corresponds to the \emph{Laplace-Beltrami} operator on $\CompactGroup$.
\end{proof}

It will be important later to be able to establish a link between right-
and left-invariant differential operator.

\begin{proposition}
    Let $X \in \LieAlgebra$.
    \begin{itemize}
        \item
            If $X \in \VectorSpace$, then its associated right-invariant vector field acts on $\SmoothFunctions \Group$ via
            \begin{align*}
                \RightDifferentialOperatorFirstOrder X \phi(x, k)
                = \ip {\grad \phi(x, k)} X,
            \end{align*}
            where in the above $(x, k) \in \Group$ and $\phi \in \SmoothFunctions \Group$.
        \item
            If $Y \in \LieAlgebraCompactGroup$, then its associated right-invariant vector field acts on $\SmoothFunctions \Group$ via
            \begin{align*}
                \RightDifferentialOperatorFirstOrder Y \phi(x, k)
                = \sum_{j = 1}^{\dim \VectorSpace} (Y x)_j \D 1 [\phi] {x_j} (x, k)
                + {\RightDifferentialOperatorFirstOrder Y}_k \phi(x, k)
            \end{align*}
            where in the above $(x, k) \in \Group$, $\phi \in \SmoothFunctions \Group$,
            and $\RightDifferentialOperatorFirstOrder Y_k$ is the right-invariant vector field on the manifold $\CompactGroup$ acting exclusively on the variable $k \in \CompactGroup$.
    \end{itemize}
\end{proposition}
\begin{proof}
    Fix $(x, k) \in \Group$, $\phi \in \SmoothFunctions \Group$ and
    let us check both of the claims separately.

    \begin{itemize}
        \item
            Using the fact that $\exp_\Group(t X) = (t X, \Id {\VectorSpace})$,
            we obtain
            \begin{align*}
                \RightDifferentialOperatorFirstOrder X \phi(x, k)
                = \eval {\D* 1 t} {t = 0} \phi( (t X, \Id \VectorSpace) (x, k) )
                = \eval {\D* 1 t} {t = 0} \phi(x + tX, k),
            \end{align*}
            from which the conclusion follows easily.
        \item
            Using the fact that $\exp_\Group(t Y) = (0_\VectorSpace, \exp_\CompactGroup(t Y)$,
            we obtain
            \begin{align*}
                \RightDifferentialOperatorFirstOrder Y \phi(x, k)
                &= \eval {\D* 1 t} {t = 0} \phi( (0_\VectorSpace, \exp_\CompactGroup(t Y)) (x, k) )\\
                &= \eval {\D* 1 t} {t = 0} \phi(\exp_\CompactGroup(t Y) x, \exp_\CompactGroup(t Y) k)\\
                &= \sum_{j = 1}^{\dim \VectorSpace} (Y x)_j \D 1 [\phi] {x_j} (x, k)
                + {\RightDifferentialOperatorFirstOrder Y}_k \phi(x, k)
            \end{align*}
            as required.
    \end{itemize}
\end{proof}

\begin{corollary}
    Let $j \in \{1, \dots, \dim \Group\}$.
    \begin{itemize}
        \item
            If $j \leq \dim \VectorSpace$, then we have
            \begin{align*}
                \RightDifferentialOperatorFirstOrder X_j
                = \sum_{i = 1}^{\dim \VectorSpace} \ip {k e_i} {e_j} \LeftDifferentialOperatorFirstOrder X_i.
            \end{align*}
        \item
            If $j > \dim \VectorSpace$,
            \begin{align*}
                \RightDifferentialOperatorFirstOrder Y
                = \sum_{i, j = 1}^{\dim \VectorSpace} (Y x)_j \ip {k e_i} {e_j} \LeftDifferentialOperatorFirstOrder X_i
                + \RightDifferentialOperatorFirstOrder Y_k
            \end{align*}
            where $\RightDifferentialOperatorFirstOrder Y_k$ is the right-invariant vector field on the manifold $\CompactGroup$ acting exclusively on the variable $k \in \CompactGroup$.
    \end{itemize}
\end{corollary}

\begin{corollary}
\label{corollary:from_right_to_left-invariant_differential_operators}
    For each $\beta \in \N^{\dim \Group}$,
    we can find smooth functions $p^\beta_\alpha \in \SmoothFunctions \Group$ such that
    \begin{align*}
        \RightDifferentialOperator [g] \beta
        =
        \sum_{\abs \alpha \leq N}
        p^\beta_\alpha(g)
        \LeftDifferentialOperator [g] \alpha
    \end{align*}
    holds for each $g \in \Group$.

    Moreover,
    there exists $C_\beta \geq 0$ such that
    \begin{align*}
        \sup_{\abs \alpha \leq N}
        \abs {p^\beta_\alpha(x, k)}
        \leq C_{\beta} (1 + \norm x)^{\abs \beta}
    \end{align*}
    for each $(x, k) \in \Group$.
\end{corollary}

\section{Unitary representations}

The unitary dual of $\Group$ was first described in~\cite{Mackey51,Mackey52},
but a more explicit version,
specifically for the generalized motion group,
was given in~\cite{Ito52}.

The Fourier analysis on the motion group was studied in~\cite{Kumahara73},
in which the author observes that the Plancherel formula takes a more elegant form if we group the unitary representations appropriately.
His subsequent papers (e.g.\ \cite{Kumahara76}) work exclusively with those grouped representations as they are technically more converient.

We shall therefore make the same choice as~\cite{Kumahara76},
and introduce the following unitary, albeit reducible, representations.

\begin{definition}
\label{definition:reducible_representation}
    Let $\lambda \in \VectorSpace$.
    We define a unitary representation $\Rep{\lambda} \in \Hom(\Group, \End(\Lebesgue{2}{\CompactGroup}))$ of $\Group$ via
    \begin{align}
        \Rep{\lambda} (x, k) F(u) \defeq \e^{\i \turn \ip \lambda {u x}} F(u k),
        \label{eq:reducible_representations_on_the_motion_groups}
    \end{align}
    where $(x, k) \in \CompactGroup$, $F \in \Lebesgue{2}{\CompactGroup}$ and $u \in \CompactGroup$.
\end{definition}

At this stage,
a few comments are necessary.

\begin{itemize}
    \item
        If $\lambda = 0$ in~\eqref{eq:reducible_representations_on_the_motion_groups},
        then our unitary representation takes the form
        \begin{align*}
            \Rep \lambda(x, k) = \RightRegularRepresentation(k)
            \sim \bigoplus_{\tau \in \dualGroup \CompactGroup} \tau^{\otimes \dimRep \tau},
        \end{align*}
        and is thus always reducible.
    \item
        If $\lambda \neq 0$,
        then our representation defined in~\eqref{eq:reducible_representations_on_the_motion_groups} is irreducible if and only if $\CompactGroup$ is \emph{abelian}.
        This can be deduced easily from its decomposition into irreducible representations (see~\cite{Kumahara73}).
    \item
        For each $k \in \CompactGroup$ and each $\lambda \in \VectorSpace$,
        the representations $\Rep \lambda$ and $\Rep {k \lambda}$
        are equivalent (see Lemma~\ref{lemma:invariance_property}).
        Again,
        we choose to work with them all the same
        because they will yield a more elegant Plancherel formula,
        but will allow us to always be able to differentiate with respect to $\lambda$.
    \item
        In the literature (see~\cite{Ito52,Kumahara73,Kumahara76,Vilenkin95}),
        the representations are usually defined via
        \begin{align*}
            \Rep{\lambda} (x, k) F(u) \defeq \e^{\i \ip \lambda {u^{-1} x}} F(k^{-1} u).
        \end{align*}
        The choice was made consciously for technical reasons.
        Like for the Euclidean case, the $\turn$ factor will ensure that the Fourier transform is \emph{unitary}
        (see Proposition~\ref{proposition:Plancherel_formula})
        while the choice to put $k$ on the right of $u$
        was made because right-regular representations are more convenient when working with the Peter-Weyl basis of $\Lebesgue 2 \CompactGroup$.
\end{itemize}


\begin{example}[$2$-dimensional Euclidean motion group]
    Let $\lambda \in \R^2$.
    Let $(x, t) \in \Group = \R^2 \ltimes \SpecialOrthogonalGroup{2}$.
    If $\lambda \neq 0$, then $\Rep{\lambda}$ is irreducible.

    Using the isomorphism $\SpecialOrthogonalGroup{2} \sim \T$,
    \eqref{eq:reducible_representations_on_the_motion_groups} takes the form
    \begin{align*}
        \Rep\lambda(x, t) F(u)
        = \e^{\i \turn \ip \lambda {\e^{\i \turn u} x}} F(u + t),
    \end{align*}
    where $F \in \Lebesgue{2}{\T}$, $(x, t) \in \Group$, and $u \in \T$.

    Defining ${\Rep\lambda(x, t)}_{m n} \defeq \ip[\Lebesgue{2}\T]{\Rep\lambda(x, t) \e^{\i \turn n \dummy}}{\e^{\i \turn m \dummy}}$ for every $m, n \in \Z$,
    it follows that
    \begin{align*}
        {\Rep\lambda(x, t)}_{m n}
        &= \int_\T \e^{\i \turn \ip \lambda {\e^{\i \turn u} x}} \e^{\i \turn [n (u + t) - m u]} \dd u\\
        &= \e^{\i \turn n t} \int_\T \e^{\i \turn \ip \lambda {\e^{\i \turn u} x}} \e^{\i \turn (n - m)u} \dd u.
    \end{align*}
\end{example}

Our representations satisfy the following invariance property.

\begin{lemma}[Invariance property]
\label{lemma:invariance_property}
    Let $\lambda \in \VectorSpace$.
    For each $k \in \CompactGroup$, we have
    \begin{align*}
        \Rep{k \lambda}(y, l) = \LeftRegularRepresentation(k) \Rep{\lambda}(y, l) \LeftRegularRepresentation(k^{-1})
    \end{align*}
\end{lemma}
\begin{proof}
    Let $F \in \Lebesgue{2}\CompactGroup$ and $u \in \CompactGroup$.
    It follows that
    \begin{align*}
        \LeftRegularRepresentation(k) \Rep\lambda(y, l) \LeftRegularRepresentation(k^{-1}) F(u)
        &= \LeftRegularRepresentation(k) \e^{\i \turn \ip \lambda {u x}} F(k u l)\\
        &= \e^{\i \turn \ip \lambda {k^{-1} u x}} F(u l)
        = \Rep{k \lambda}(y, l) F(u).
    \end{align*}
\end{proof}

\subsubsection{Representations on $\GroupDirect$}
\label{subsubsection:representations_on_the_direct_product}

Provided that we also group the representations on $\GroupDirect$,
the representations of $\GroupDirect$ and $\Group$ can seem formally very similar.

Indeed,
first observe that
the unitary dual is given by
\begin{align*}
    \dualGroup {\GroupDirect} =
    \left\{\e^{\i \turn \ip \lambda \dummy} \otimes \tau : \lambda \in \VectorSpace, \tau \in \dualGroup \Group \right\}
\end{align*}
which, if we group the representations of $\CompactGroup$, becomes
\begin{align*}
    \e^{\i \turn \ip \lambda \dummy} \otimes \left(\bigoplus_{\tau \in \dualGroup \CompactGroup} \tau^{\otimes \dimRep \tau}\right)
\end{align*}

Using the Peter-Weyl Theorem (Theorem~\ref{theorem:Peter-Weyl_theorem}),
the representation above is equivalent to the following.

\begin{definition}
    Let $\lambda \in \VectorSpace$.
    We define a unitary representation $\Rep [\GroupDirect] {\lambda} \in \Hom(\Group, \End(\Lebesgue{2}{\CompactGroup}))$ of $\Group$ via
    \begin{align*}
        \Rep [\GroupDirect] {\lambda} (x, k) F(u) \defeq \e^{\i \turn \ip \lambda x} F(u k),
    \end{align*}
    where $(x, k) \in \CompactGroup$, $F \in \Lebesgue{2}{\CompactGroup}$ and $u \in \CompactGroup$.
\end{definition}

%\subsection{Unitary dual}
%
%Our description of the unitary dual comes from \cite{Kumahara73},
%which itself is a minor adaptation of the one in \cite{Ito52}.
%Although both articles only specifically mention the case of the Euclidean motion group,
%the author of \cite{Ito52} mentions that the arguments generalize verbatim to motion groups.
%
%Throughout this section, fix $\lambda \in \dualGroup{\VectorSpace}$
%and denote by $\IsotropySubgroup{\CompactGroup}{\lambda}$ its isotropy subgroup.
%
%Let $\tau \in \dualGroup{\IsotropySubgroup{\CompactGroup}{\lambda}}$ and denote by $\dimRep{\tau}$ its dimension.
%For $q = 1, \cdots, \dimRep{\tau}$, let
%\begin{align}
%    P^\tau_q F(u) \defeq \dimRep{\tau} \int_\IsotropySubgroup{\CompactGroup}{\lambda} \conj{\tau_{qq}(m)} F(u m) \dd m,
%    \quad F \in \Lebesgue{2}{\CompactGroup}, u \in \CompactGroup.
%    \label{eq:projection_on_L2_of_the_compact_group}
%\end{align}
%
%By the Inverse Fourier Transform at $e \in \IsotropySubgroup{\CompactGroup}{\lambda}$,
%if $F \in \Lebesgue{2}{\CompactGroup}$ and $u \in \CompactGroup$, then
%\begin{align*}
%    F(u)
%    &= F(u e) = \sum_{\tau \in \dualGroup{\IsotropySubgroup{\CompactGroup}{\lambda}}} \dimRep{\tau} \tr\left(\Rep[\IsotropySubgroup{\CompactGroup}{\lambda}]{\tau}(e) \Fourier[\IsotropySubgroup{\CompactGroup}{\lambda}]{F(u \dummy)}\right)\\
%    &= \sum_{\tau \in \dualGroup{\IsotropySubgroup{\CompactGroup}{\lambda}}} \dimRep{\tau} \sum_{q = 1}^{\dimRep{\tau}} {\Fourier[\IsotropySubgroup{\CompactGroup}{\lambda}]{F(u \dummy)}}_{qq}
%    = \sum_{\tau \in \dualGroup{\IsotropySubgroup{\CompactGroup}{\lambda}}} \sum_{q = 1}^\dimRep\tau P^\tau_q F(u).
%\end{align*}
%Now, writing $\Hilbert{\tau}{q} \defeq P^\tau_q \Lebesgue{2}{\CompactGroup}$,
%it then follows that
%\begin{align*}
%    \Lebesgue{2}{\CompactGroup}
%    = \sum_{\tau \in \dualGroup{\IsotropySubgroup{\CompactGroup}{\lambda}}} \sum_{q = 1}^\dimRep\tau \Hilbert{\tau}{q}.
%\end{align*}
%
%In fact, we shall see that the $P^\tau_q$ are \emph{orthogonal projections}.
%
%\begin{lemma}
%    Let $\mu, \tau \in \dualGroup{\IsotropySubgroup{\CompactGroup}{\lambda}}$, $q \in \{1, \cdots, \dimRep{\tau}\}$ and $m, n \in \{1, \cdots, \dimRep{\tau} \}$.
%    If $f \in \Lebesgue{2}{\RightQuotient{\CompactGroup}{\IsotropySubgroup{\CompactGroup}{\lambda}}}$, then
%    \begin{align*}
%        P^\mu_q (f \otimes \tau_{m n}) = \Kronecker{\mu}{\tau} \Kronecker{n}{q} (f \otimes \tau_{m n}).
%    \end{align*}
%
%    In particular, the following properties hold:
%    \begin{enumerate}
%        \item $P^\mu_q$ is an orthogonal projection onto
%            \begin{align*}
%                \Hilbert{\mu}{q} =
%                    \Lebesgue{2}{\RightQuotient{\CompactGroup}{\IsotropySubgroup{\CompactGroup}{\lambda}}}
%                    \otimes
%                    \Span \{\mu_{p q} : p = 1, \cdots, \dimRep{\mu}\};
%            \end{align*}
%        \item The Hilbert spaces
%            \begin{align*}
%                \{\Hilbert{\tau}{q} : \tau \in \dualGroup{\IsotropySubgroup{\CompactGroup}{\lambda}}, q = 1, \cdots, \dimRep{\tau} \}
%            \end{align*}
%            are mutually orthogonal;
%        \item We have the decomposition
%            \begin{align*}
%                \Lebesgue{2}{\CompactGroup} = \bigoplus_{\tau \in \dualGroup{\IsotropySubgroup{\CompactGroup}{\lambda}}} \bigoplus_{q = 1}^{\dimRep{\tau}} \Hilbert{\tau}{q}.
%            \end{align*}
%    \end{enumerate}
%\end{lemma}
%\begin{proof}
%    Fix $u \in \CompactGroup$ and write $u = u' u''$,
%    where $u' \in \RightQuotient{\CompactGroup}{\IsotropySubgroup{\CompactGroup}{\lambda}}$
%    and $u'' \in \IsotropySubgroup{\CompactGroup}{\lambda}$.
%    It follows that
%    \begin{align*}
%        P^\mu_q (f \otimes \tau_{m n}) (u)
%        &= \dimRep{\mu}
%            \int_\IsotropySubgroup{\CompactGroup}{\lambda}
%                \conj{\mu_{q q}(m)}
%                f(u')
%                \tau_{m n}(u'' m)
%            \dd m\\
%        &= \sum_{p = 1}^\dimRep{\tau}
%                f(u')
%                \tau_{m p}(u'')
%                \dimRep{\mu}
%                \int_\IsotropySubgroup{\CompactGroup}{\lambda}
%                    \conj{\mu_{q q}(m)}
%                    \tau_{p n}(m)
%                \dd m.
%    \end{align*}
%
%    Using the Peter-Weyl Theorem, we conclude that in fact
%    \begin{align*}
%        P^\mu_q (f \otimes \tau_{m n}) (u)
%        &= \sum_{p = 1}^\dimRep{\tau}
%            \Kronecker{\mu}{\tau}
%            \Kronecker{q}{p}
%            \Kronecker{q}{n}
%            f(u')
%            \tau_{m p}(u'')\\
%        &= \Kronecker{\mu}{\tau}
%            \Kronecker{q}{n}
%            f(u')
%            \tau_{m q}(u'')\\
%        &= \Kronecker{\mu}{\tau}
%            \Kronecker{q}{n}
%            (f \otimes \tau_{m n})(u),
%    \end{align*}
%    which is what we wanted to show.
%\end{proof}
%
%The following result and its proof can be found in \cite[Theorem 1.1, 1.2, 1.3]{Ito52}.
%Although the paper specifically treats the case of the Euclidean motion groups,
%the author remarks (\cite[Remark p. 84]{Ito52}) that the argument works for motion groups.
%
%\begin{proposition}[Unitary dual]
%\label{proposition:unitary_dual}
%    Let $\lambda, \lambda' \in \dualGroup{\VectorSpace} \setminus \{0\}$
%    and $\tau \in \dualGroup{\IsotropySubgroup{\CompactGroup}{\lambda}}$,
%    $\tau' \in \dualGroup{\IsotropySubgroup{\CompactGroup}{\lambda'}}$.
%    The following properties hold
%    \begin{enumerate}
%        \item $\Rep{\lambda}$ restricts to an infinite-dimensional irreducible unitary representation on each $\Hilbert{\tau}{q}$;
%        \item $(\Hilbert{\tau}{q}, \Rep{\lambda})$ and $(\Hilbert{\tau'}{q'}, \Rep{\lambda'})$ are equivalent if and only if
%            \begin{align*}
%                \lambda' = k \lambda \quad \text{and} \quad \EquivalenceClass{\dualGroup{\IsotropySubgroup{\CompactGroup}{\lambda}}}{\tau} = \EquivalenceClass{\dualGroup{\IsotropySubgroup{\CompactGroup}{\lambda}}}{\tau'(k \dummy k^{-1})}
%            \end{align*}
%            for some $k \in \CompactGroup$.
%            In particular, if $q_1, q_2 \in \{1, \cdots, \dimRep\tau\}$,
%            then $(\Hilbert{\tau}{q_1}, \Rep{\lambda})$ and $(\Hilbert{\tau}{q_2}, \Rep{\lambda})$ are equivalent.
%    \end{enumerate}
%\end{proposition}
%
%\begin{definition}[Unitary dual]
%\label{definition:unitary_dual_of_motion_group}
%\index{motion group!unitary dual}
%    Fix $\lambda_0 \in \dualGroup{\VectorSpace} \setminus \{0\}$.
%    We define the \emph{unitary dual} of $\Group$, denoted by $\dualGroup{\Group}$, via
%    \begin{align*}
%        \dualGroup{\Group} \defeq \{ (\Hilbert{\tau}{1}, \Rep{\lambda \lambda_0}) : \lambda \in \R^+, \tau \in \dualGroup{\IsotropySubgroup{\CompactGroup}{\lambda}} \}.
%    \end{align*}
%\end{definition}
%
%\begin{definition}
%    A \emph{measurable field of operators on $\dualGroup\Group$} is a map
%    \begin{align*}
%        \sigma : \dualGroup\VectorSpace \to \End(\SmoothFunctions{\CompactGroup})
%    \end{align*}
%    satisfying the following properties.
%    \begin{enumerate}
%        \item For each $\lambda \in \dualGroup\VectorSpace$,
%            each $\tau \in \dualGroup{\IsotropySubgroup{\CompactGroup}{\lambda}}$, and each $q \in \{1, \cdots, \dimRep \tau\}$, we have
%            \begin{align*}
%                \sigma(\lambda) \SmoothVectors{\Hilbert{\tau}{q}} \subset \SmoothVectors{\Hilbert{\tau}{q}}
%            \end{align*}
%        \item If $\lambda_1, \lambda_2 \in \dualGroup\VectorSpace$ and if $H_1, H_2$ are two Hilbert subspaces of $\Lebesgue{2}{\CompactGroup}$ such that
%            $(H_1, \Rep{\lambda_1})$ and $(H_2, \Rep{\lambda_2})$ are equivalent,
%            then if $T : H_1 \to H_2$ is the intertwining operator,
%            we have
%            \begin{align*}
%                \eval{\sigma(\lambda_1)}{H_1}  = T \sigma(\lambda_2) T^{-1}
%            \end{align*}
%    \end{enumerate}
%\end{definition}

\subsection{Infinitesimal representations}

Infinitesimal representations are important
because they characterize the action of left- (resp. right-) invariant differential operators on the Fourier Transform side.
As such,
they provide the most elementary example of Fourier transform of distributions that are not integrable functions.

\begin{definition}[Infinitesimal Representation]
\label{definition:infinitesimal_representation}
\index{motion group!infinitesimal representation}
    Let $X \in \g$.
    We define the infinitesimal representation of $X$ as the operator
    \begin{align*}
        \Rep{\lambda}(X) : \SmoothFunctions{\CompactGroup} \to \SmoothFunctions{\CompactGroup}
    \end{align*}
    defined via
    \begin{align*}
        \Rep{\lambda}(X) F(u) \defeq \eval{\D*{1}{t}}{t=0} \Rep{\lambda}(\exp(t X)) F(u),
    \end{align*}
    where $F \in \SmoothFunctions{\CompactGroup}$.
\end{definition}

\begin{proposition}[Infinitesimal representations]
\label{proposition:infinitesimal_representations_of_differential_operators}
    Let $\lambda \in \VectorSpace$ and let $j \in \{1, \cdots, \dim \Group\}$.
    Fix also $F \in \SmoothFunctions \CompactGroup$ and $u \in \CompactGroup$.
    The infinitesimal representation of $X_j$ has the following expression:
    \begin{enumerate}
        \item if $j \leq \dim \VectorSpace$, then
            \begin{align*}
                \Rep{\lambda}(X_j) F(u) = \i \turn \ip \lambda {u e_j} F(u)
            \end{align*}
        \item if $j > \dim \VectorSpace$, then
            \begin{align*}
                \Rep{\lambda}(X_j) F(u) = \LeftDifferentialOperatorFirstOrder{X_j} F(u),
            \end{align*}
            where on the right-hand side $\LeftDifferentialOperatorFirstOrder{X_j}$ is the left-invariant differential operator on $\CompactGroup$ associated with $X_j \in \LieAlgebraCompactGroup$.
    \end{enumerate}
\end{proposition}
\begin{proof}
    Let $F \in \SmoothFunctions \CompactGroup$ and $u \in \CompactGroup$.
    \begin{enumerate}
        \item Fix $j \in \{1, \cdots, \dim \VectorSpace\}$.
            Since $\exp_\Group(t X_j) = (t e_j, \Id{\VectorSpace})$,
            it follows that
            \begin{align*}
                \Rep{\lambda}(X_j) F(u) = \eval{\D*{1}{t}}{t = 0} \e^{\i \turn \ip \lambda {t u e_j}} F(u)
                = \i \turn \ip \lambda {u e_j} F(u)
            \end{align*}
            which is what we wanted to show.
        \item If $j > \dim \VectorSpace$, $X_j \in \LieAlgebraCompactGroup$ so that
            \begin{align*}
                \exp_\Group(t X_j) = (0, \exp_\CompactGroup(t X_j)).
            \end{align*}

            From there, it immediately follows that
            \begin{align*}
                \Rep{\lambda}(X_j) F(u)
                = \eval{\D*{1}{t}}{t = 0} F(u \exp_\CompactGroup(t X_j)),
            \end{align*}
            which by definition is $\LeftDifferentialOperatorFirstOrder{X_j} F(u)$.
    \end{enumerate}
\end{proof}

\begin{corollary}[Infinitesimal representation of $\Laplacian$]
\label{corollary:infinitesimal_representation_of_the_Laplacian}
    Let $\lambda \in \VectorSpace$.
    The infinitesimal representation of $\Laplacian$ is given by
    \begin{align*}
        \Rep{\lambda}(\Laplacian) = - {(\turn)}^2 \norm{\lambda}^2 \Id{\Lebesgue{2}{\CompactGroup}} + \Laplacian[\CompactGroup].
    \end{align*}
\end{corollary}

\section{Fourier Transform}

We have now introduced all the necessary tools to study the Fourier analysis on $\Group$.

\subsection{Definition and elementary properties}

Before defining the Fourier Transform,
let us adapt the classical definition of Schwartz space.

\begin{definition}[Schwartz space]
    We let $\Schwartz\Group$ be the space of all $f \in \SmoothFunctions\Group$
    which are \emph{rapidly decaying},
    i.e.\ such that for each $N \in \N$,
    \begin{align*}
        \seminorm[\Schwartz\Group]{N}{f} \defeq
        \sup_{\abs\alpha \leq N}
        \abs{%
            {(1 + \abs{x})}^N
            \LeftDifferentialOperator{\alpha} f(x, k)
        }
        < \infty.
    \end{align*}

    The maps ${(\seminorm[\Schwartz\Group]{N}{\dummy})}_{N \in \N}$ define a collection of semi-norms on $\Schwartz\Group$
    and give it a structure of \emph{Fr\'echet space}.
\end{definition}

We now define a central tool in our analysis: the \emph{Fourier transform}.

\begin{definition}[Fourier transform]
\label{definition:Fourier_Transform}
\index{motion group!Fourier transform}
    Let $f \in \Lebesgue{1}{\Group}$ and $\lambda \in \dualGroup{\VectorSpace}$.
    We define its \emph{Fourier coefficient} at $\lambda$ via
    \begin{align*}
        \Fourier{f}(\lambda) \defeq \int_\Group f(g) \adj{\Rep{\lambda}(g)} \dd g.
    \end{align*}

    Moreover, the map
    \begin{align*}
        \Fourier{f} : \dualGroup{\VectorSpace} \to \End(\Lebesgue{2}{\CompactGroup}) :
        \lambda \mapsto \Fourier{f}(\lambda)
    \end{align*}
    is called the \emph{Fourier Transform} of $f$.
\end{definition}

To establish the Plancherel and inverse formulae,
we need to compute some Schatten norms of our Fourier coefficients.

\begin{lemma}
\label{lemma:kernels_of_Fourier_coefficients}
    Let $\lambda \in \VectorSpace$, and $f \in \Lebesgue{1}\Group$.
    The \emph{integral kernel} of the operator $\Fourier f(\lambda)$ is given by
    \begin{align}
        K_{f}(\lambda; u, k) \defeq \Fourier[\VectorSpace] f(k^{-1} \lambda, k^{-1} u),
        \label{integral_kernel_of_Fourier_coefficient}
    \end{align}
    i.e. for every $F \in \Lebesgue{2}\CompactGroup$ and every $u \in \CompactGroup$, we have
    \begin{align*}
        \Fourier f(\lambda) F(u) = \int_\CompactGroup K_f(\lambda; u, k) F(k) \dd k.
    \end{align*}

    In particular, the following properties hold:
    \begin{enumerate}
        \item if $f \in \Schwartz\Group$, then $K_f$ is smooth,
            $\Fourier f(\lambda)$ is trace class and
            \begin{align*}
                \tr(\Fourier f(\lambda)) = \int_\CompactGroup \Fourier[\VectorSpace] f(k \lambda, e) \dd k;
            \end{align*}
        \item if $f \in \Lebesgue{1}\Group \cap \Lebesgue{2}\Group$, then for almost every $\lambda \in \VectorSpace$,
            $\Fourier f(\lambda)$ is Hilbert-Schmidt and
            \begin{align*}
                \norm[\SchattenClasses{2}{\Lebesgue{2}\CompactGroup}]{\Fourier f(\lambda)}^2
                = \int_\CompactGroup \int_\CompactGroup \abs{\Fourier[\VectorSpace] f(k \lambda, u)}^2 \dd u \dd k
            \end{align*}
    \end{enumerate}
\end{lemma}
\begin{proof}
    Let $F \in \Lebesgue{2}\CompactGroup$ and $u \in \CompactGroup$.
    By definition of the Fourier Transform,
    \begin{align*}
        \Fourier f(\lambda) F(u) =
        \int_\VectorSpace
            \int_\CompactGroup
                f(x, k) \e^{-\i \turn \ip{k u^{-1} \lambda}{x}} F(u k^{-1})
            \dd k
        \dd x
    \end{align*}

    Recognising the Fourier Transform on $\VectorSpace$ in the above, we obtain
    \begin{align*}
        \Fourier f(\lambda) F(u)
        &=
        \int_\CompactGroup
            \Fourier[\VectorSpace] f(k u^{-1} \lambda, k) F(u k^{-1})
        \dd k\\
        &=
        \int_\CompactGroup
            \Fourier[\VectorSpace] f(k^{-1} \lambda, k^{-1} u) F(k)
        \dd k
    \end{align*}
    where we substituted $k$ for $k^{-1} u$ to obtain the last line.

    From there, it follows that the kernel is indeed given by~\eqref{integral_kernel_of_Fourier_coefficient}.
    Let us now prove the two remaining claims.

    \begin{enumerate}
        \item If $f \in \Schwartz\Group$, it follows that the integral kernel is smooth.
            Using~\cite[Corollary 4.1]{DelgadoRuzhansky14}, it follows that $\Fourier f(\lambda)$ is trace-class, and
            \begin{align*}
            \tr(\Fourier f(\lambda))
            = \int_\CompactGroup K_f(\lambda; k, k) \dd k
            = \int_\CompactGroup \Fourier[\VectorSpace] f(k \lambda, e) \dd k.
        \end{align*}
    \item Now, if $f \in \Lebesgue{1}\Group \cap \Lebesgue{2}\Group$,
        then $K_{f} \in \Lebesgue{2}{\CompactGroup \times \CompactGroup}$ for almost every $\lambda \in \VectorSpace$.
        For such $\lambda$, it follows by~\cite[Theorem VI.23]{Reed72} that $\Fourier f(\lambda)$ is Hilbert-Schmidt and
        \begin{align*}
            \norm[\SchattenClasses{2}{\Lebesgue{2}\CompactGroup}]{\Fourier f(\lambda)}^2
            &= \int_\CompactGroup \int_\CompactGroup \abs{K_f(\lambda; u, k)}^2 \dd k \dd u\\
            &= \int_\CompactGroup \int_\CompactGroup \abs{\Fourier[\VectorSpace] f(k^{-1} \lambda, k^{-1} u)}^2 \dd k \dd u.
        \end{align*}
        Substituing $k$ for $k^{-1}$ and then $u$ for $k^{-1} u$ in the above, we obtain
        \begin{align*}
            \norm[\SchattenClasses{2}{\Lebesgue{2}\CompactGroup}]{\Fourier f(\lambda)}^2
            &= \int_\CompactGroup \int_\CompactGroup \abs{\Fourier[\VectorSpace] f(k \lambda, u)}^2 \dd k \dd u,
        \end{align*}
        as required.
    \end{enumerate}
\end{proof}

If a function is rotation-invariant in the Euclidean variable,
applying the Fourier transform reduces to computing the Fourier transform on $\GroupDirect$.

\begin{lemma}
    Let $\lambda \in \VectorSpace$ and $f \in \Lebesgue 1 \Group$.
    If for every $l \in \CompactGroup$,
    \begin{align}
        f(l x, k) = f(x, k), \quad (x, k) \in \Group,
        \label{eq:function_on_motion_group_invariant_under_K}
    \end{align}
    then we have
    \begin{align*}
        \Fourier f(\lambda) = \Fourier [\GroupDirect] f(\lambda).
    \end{align*}
\end{lemma}
\begin{proof}
    By Lemma~\ref{lemma:kernels_of_Fourier_coefficients} and \eqref{eq:function_on_motion_group_invariant_under_K},
    we know that
    \begin{align*}
        \Fourier f(\lambda) F(u)
        &=
        \int_\CompactGroup \Fourier [\VectorSpace] f(\lambda, k^{-1} u) F(k) \dd k\\
        &=
        \int_\CompactGroup \Fourier [\VectorSpace] f(\lambda, k) F(u k^{-1}) \dd k,
    \end{align*}
    where the last line was obtained by substituing $k$ for $u k^{-1}$.

    Recognising a Fourier transform on $\CompactGroup$ with ``grouped representations''
    (see Subsubsection~\ref{subsubsection:representations_on_the_direct_product})
    in the right-hand side of the above
    we obtain
    \begin{align*}
        \Fourier f(\lambda) F(u)
        &=
        \Fourier [\GroupDirect] f(\lambda) F(u),
    \end{align*}
    which shows that both Fourier transforms are indeed equal.
\end{proof}

%\begin{definition}
%    We shall say that $L \in \SmoothFunctions{\VectorSpace \times \CompactGroup \times \CompactGroup}$ belongs to $\ScalarImageSchwartz\Group$ if and only if
%    \begin{enumerate}
%        \item $L$ is rapidly decaying in $x$, i.e.\ for each $N \in \N$,
%            \begin{align*}
%                \seminorm[\ScalarImageSchwartz\Group]{N}{L}
%                \defeq
%                \sup_{\abs\alpha, \abs\beta, \abs{\beta'} \leq N}
%                \abs{%
%                    {(1 + \abs{x})}^N
%                    \LeftDifferentialOperatorOnCompactGroup[k_1]{\beta}
%                    \LeftDifferentialOperatorOnCompactGroup[k_2]{\beta'}
%                    \D[L]{x^\alpha}(x, k_1, k_2)
%                }
%                < \infty.
%            \end{align*}
%        \item for each $k \in \CompactGroup$, we have
%            \begin{align*}
%                L(k \lambda; k_1, k_2) = L(\lambda, k_1 k, k_2 k).
%            \end{align*}
%    \end{enumerate}
%\end{definition}
%
%The proof of the following result can be found in~\cite{Kumahara76}.
%\begin{proposition}
%    The map
%    \begin{align*}
%        f \in \Schwartz\Group \to K_f \in \ScalarImageSchwartz\Group
%    \end{align*}
%    is a topological isomorphism from $\Schwartz\Group$ onto $\ScalarImageSchwartz\Group$.
%\end{proposition}

\subsection{Plancherel formula}

The following result is of crucial importance,
for it establishes a relation between a function and its Fourier transform.
Informally speaking,
it will later allow us to ``translate'' between \emph{kernels} and \emph{symbols},
as those notions are linked via the Fourier transform.

\begin{proposition}[Plancherel formula]
\label{proposition:Plancherel_formula}
\index{motion group!Fourier transform!Plancherel formula}
    Let $f \in \Lebesgue{1}{\Group} \cap \Lebesgue{2}{\Group}$.
    The following formula holds
    \begin{align}
        \int_G \abs{f}^2 \dd g = \int_{\VectorSpace} \norm[\HilbertSchmidt{\Lebesgue{2}{\CompactGroup}}]{\Fourier{f}(\lambda)}^2 \dd \lambda.
        \label{proposition:Plancherel_formula:formula}
    \end{align}
\end{proposition}
\begin{proof}
    It follows from Lemma~\ref{lemma:kernels_of_Fourier_coefficients} that for almost every $\lambda \in \VectorSpace$,
    $\Fourier f(\lambda)$ is trace class and
    \begin{align*}
        \norm[\SchattenClasses{2}{\Lebesgue{2}\CompactGroup}]{\Fourier f(\lambda)}^2
        = \int_\CompactGroup \int_\CompactGroup \abs{\Fourier[\VectorSpace] f(k \lambda, u)}^2 \dd u \dd k.
    \end{align*}

    Now, integrating with respect to $\lambda$,
    we obtain
    \begin{align*}
        \int_{\VectorSpace} \norm[\HilbertSchmidt{\Lebesgue{2}{\CompactGroup}}]{\Fourier{f}(\lambda)}^2 \dd \lambda
        &= \int_{\VectorSpace} \int_\CompactGroup \abs{\Fourier[\VectorSpace]{f}(\lambda, k)}^2 \dd k \dd \Plancherel{\VectorSpace}(\lambda)\\
        &= \int_\VectorSpace \int_\CompactGroup \abs{f(x, k)}^2 \dd u \dd k,
    \end{align*}
    where the last line was obtained by applying the Plancherel formula on $\VectorSpace$.
\end{proof}

%\begin{lemma}
%    Let $\phi \in \Schwartz\Group$.
%    For each $\lambda \in \VectorSpace$,
%    the operator $\Fourier \phi(\lambda)$ is trace class.
%    Moreover, for each $N \in \N$, there exists $C \geq 0$ such that
%    \begin{align*}
%        \norm[\SchattenClasses{1}{\Lebesgue{2}{\CompactGroup}}]{\Fourier \phi(\lambda)}
%        &\leq C {(1 + \abs\lambda)}^{-N}.
%    \end{align*}
%    In particular, the map
%    \begin{align*}
%        \lambda \in \VectorSpace \mapsto \norm[\SchattenClasses{1}{\Lebesgue{2}{\CompactGroup}}]{\Fourier \phi(\lambda)}
%    \end{align*}
%    is integrable.
%\end{lemma}
%\begin{proof}
%    Let $\alpha > \dim \CompactGroup$.
%    It follows by \cite[Proposition 3.3]{DelgadoRuzhansky14} that
%    \begin{align}
%        \BesselPotential[\CompactGroup]{-\alpha} \in \SchattenClasses{1}{\Lebesgue{2}\CompactGroup}
%        \label{lemma:preparation_for_inverse_formula:Bessel_potential_in_trace_class}
%    \end{align}
%
%    Let $\lambda \in \VectorSpace$.
%    We check that for each $F \in \Lebesgue{2}\CompactGroup$,
%    \begin{align*}
%        \BesselPotential[\CompactGroup]{\alpha} \Fourier \phi(\lambda) F(u)
%        = \int_\CompactGroup \BesselPotential[\CompactGroup]{\alpha}_u K_{\phi, \lambda}(u, k) F(k) \dd k,
%    \end{align*}
%    where $K_{\phi, \lambda}(u, k)$ represents the kernel of $\Fourier \phi(\lambda)$.
%
%    Since $K_{\phi, \lambda}$ is smooth with respect to $(u, k)$ and is rapidly decaying in $\lambda$,
%    it follows that for each $N \in \N$, there exists $C \geq 0$ such that
%    \begin{align*}
%        \norm[\Lin{\Lebesgue{2}\CompactGroup}]{\BesselPotential[\CompactGroup]{\alpha} \Fourier \phi(\lambda)}
%        \leq C {(1 + \abs\lambda)}^{-N}.
%    \end{align*}
%
%    Combining the above with~\eqref{lemma:preparation_for_inverse_formula:Bessel_potential_in_trace_class},
%    we obtain
%    \begin{align*}
%        \norm[\SchattenClasses{1}{\Lebesgue{2}{\CompactGroup}}]{\Fourier \phi(\lambda)}
%        &\leq
%        \norm[\SchattenClasses{1}{\Lebesgue{2}\CompactGroup}]{\BesselPotential[\CompactGroup]{-\alpha}}
%            \norm[\Lin{\Lebesgue{2}\CompactGroup}]{\BesselPotential[\CompactGroup]{\alpha} \Fourier \phi(\lambda)}\\
%        &\leq C {(1 + \abs\lambda)}^{-N},
%    \end{align*}
%    which is the desired estimate.
%\end{proof}

The following result is equivalent to the Plancherel formula,
in the sense that proving one allows us to prove the other.

It says that for a very regular function,
we can recover a function from its Fourier transform.

\begin{proposition}[Inverse Fourier Transform]
\label{proposition:inverse_Fourier_Transform}
\index{motion group!Fourier transform!inverse formula}
    Let $\phi \in \Schwartz{\Group}$.
    For each $g \in \Group$,
    we have
    \begin{align*}
        \phi(g)
        = \int_\dualGroup{\VectorSpace}
        \tr \left( \Rep{\lambda}(g) \Fourier \phi(\lambda) \right) \dd \Plancherel{\VectorSpace}(\lambda).
    \end{align*}
\end{proposition}
\begin{proof}
    Let us assume that $g = e$.
    By Lemma~\ref{lemma:kernels_of_Fourier_coefficients}, we know that $\Fourier \phi(\lambda)$ is trace class and
    \begin{align*}
        \tr(\Fourier \phi(\lambda))
        = \int_\CompactGroup \Fourier[\VectorSpace] \phi(k \lambda, e) \dd k.
    \end{align*}

    Integrating with respect to $\lambda$, we obtain
    \begin{align*}
        \int_\VectorSpace \tr(\Fourier \phi(\lambda)) \dd \lambda
        &= \int_\VectorSpace \int_\CompactGroup \Fourier[\VectorSpace] \phi(k \lambda, e) \dd k \dd \lambda\\
        &= \int_\VectorSpace \Fourier[\VectorSpace] \phi(\lambda, e) \dd \lambda,
    \end{align*}
    where the last line was obtained by a change of variables after permuting the integrals.

    Recognising an inverse Fourier Transform in the right-hand side of the above, we obtain
    \begin{align*}
        \int_\VectorSpace \tr(\Fourier \phi(\lambda)) \dd \lambda
        = \phi(0, e),
    \end{align*}
    concluding the case $g = e$.

    The general case follows immediately, since
    \begin{align*}
        \phi(g) = \phi(e g) = \int_\VectorSpace \tr(\Fourier \{\phi(\dummy g)\}(\lambda)) \dd \lambda
        = \int_\VectorSpace \tr(\Rep\lambda(g) \Fourier \phi(\lambda)) \dd \lambda,
    \end{align*}
    where the last equality was obained by Proposition~\ref{proposition:elementary_properties_of_the_Fourier_transform}.
\end{proof}

\subsubsection{The direct product case}

In view of Subsubsection~\ref{subsubsection:representations_on_the_direct_product},
let us compare the Plancherel formulas.

Given $f \in \Lebesgue 1 {\GroupDirect}$ and $\lambda \in \VectorSpace$,
we let
\begin{align*}
    \Fourier [\GroupDirect] f(\lambda)
    &\defeq \int_{\GroupDirect} f(x, k) \adj{\Rep [\GroupDirect] \lambda(x, k)} \dd (x, k),\\
    \Fourier [\GroupDirect] f(\lambda, \tau)
    &\defeq \int_{\GroupDirect} f(x, k) \e^{\i \turn \ip \lambda x} \adj{\tau(k)} \dd (x, k).
\end{align*}
Note that $\dd (x, k)$ is also the Haar measure of $\Group$.
Moreover,
it is clear that
\begin{align}
    \Fourier [\GroupDirect] f(\lambda)
    \sim \bigoplus_{\tau \in \dualGroup \CompactGroup} \left(\Fourier [\GroupDirect] f(\lambda, \tau)\right)^{\otimes \dimRep \tau}
    \label{eq:relation_between_both_Fourier_transforms_on_the_direct_product}
\end{align}

The Plancherel formula therefore takes the following form.

\begin{proposition}[Plancherel formula on $\GroupDirect$]
    Let $f \in \Lebesgue{1}{\GroupDirect} \cap \Lebesgue{2}{\GroupDirect}$.
    The following formula holds
    \begin{align}
        \int_{\GroupDirect} \abs{f}^2 \dd g = \int_\VectorSpace \norm[\HilbertSchmidt{\Lebesgue{2}{\CompactGroup}}]{\Fourier [\GroupDirect] {f}(\lambda)}^2 \dd \lambda.
    \end{align}
\end{proposition}
\begin{proof}
    Using the ``classical'' Plancherel Theorem on $\GroupDirect$,
    we obtain
    \begin{align*}
        \int_{\GroupDirect} \abs f^2 \dd g
        = \int_\VectorSpace \sum_{\tau \in \dualGroup \CompactGroup} \dimRep \tau \norm [\HilbertSchmidt {\mathcal H_\tau}] {\Fourier [\GroupDirect] f(\lambda, \tau)}^2 \dd \lambda.
    \end{align*}

    Using~\eqref{eq:relation_between_both_Fourier_transforms_on_the_direct_product},
    it is clear that
    \begin{align*}
        \norm [\HilbertSchmidt {\Lebesgue 2 \CompactGroup}] {\Fourier [\GroupDirect] f(\lambda)}^2
        = \sum_{\tau \in \dualGroup \CompactGroup} \dimRep \tau \norm [\HilbertSchmidt {\mathcal H_\tau}] {\Fourier [\GroupDirect] f(\lambda, \tau)}^2,
    \end{align*}
    and we conclude easily.
\end{proof}

Naturally,
with an identical proof,
this means that the \emph{inverse formula} takes the form
\begin{align*}
    f(g) = \int_{\GroupDirect} \tr(\Rep [\GroupDirect] \lambda(g) \Fourier [\GroupDirect] f(\lambda)) \dd \lambda,
\end{align*}
where $f \in \Schwartz \GroupDirect$ and $g \in \GroupDirect$.

We have thus shown that the Fourier theory and the Plancherel Theory are formally very similar on $\Group$ and $\GroupDirect$ provided we group the representations on either side.

Note that the resemblance is extremely deceptive.
To illustrate that last assertion,
we observe that
\begin{align*}
    \Rep \lambda (\Laplacian) =
    \Rep [\GroupDirect] \lambda (\Laplacian [\GroupDirect])
\end{align*}
when we group the representations on both sides.
However,
the term appearing on the right-hand side decomposes as a direct sum of \emph{scalar operators} on the irreducible representations,
unlike the term appearing on the left.
This is a direct consequence of the fact
that $\Laplacian [\Group] = \Laplacian [\GroupDirect]$ is right-invariant on $\GroupDirect$ but not on $\Group$.

%\section{Applications to engineering}
%
%\subsection{Phase-noise Fokker-Planck equation}
%
%suppose that
%\begin{align*}
%    s : \R^+ \times \Omega \to \R
%\end{align*}
%is a Brownian motion on a probability space $(\Omega, \mathcal F, \mathbb P)$
%that represents the (normalized) phase of a signal
%\begin{align*}
%    x : \R^+ \times \Omega \to \C : (t, \omega) \mapsto x(t) \defeq \e^{\i \turn s(t, \omega)}.
%\end{align*}
%
%assume further that after going through a bandpass filter,
%the signal $x$ becomes
%\begin{align*}
%    z : \R^+ \times \Omega \to \C : (t, \omega) \mapsto z(t, \omega) \defeq \int_0^t h(t') \e^{\i \turn s(t - t', \omega)} \dd t',
%\end{align*}
%where $h \in \Distributions {\R}$.
%
%[INSERT CITATION] modelizes the probability density
%\begin{align*}
%    f : \R^+ \to \TemperedDistributions{\R^2 \times \T} : t \mapsto f(\dummy, t)
%\end{align*}
%of the random variable $(z, s)$ as the solution of
%\begin{align}
%    \begin{cases}
%        \D{1}[f]{t}(y, s; t) &= \left(-h(t) (\cos (\turn s) \D{1}{{y_1} } + \sin(\turn s) \D{1}{{y_2} }) + C \D{2}{s^2}\right) f(y, s; t)\\
%        f(\dummy; 0) &= \DiracDelta{(0_{\R^2}, 0)},
%    \end{cases}
%    \label{eq:Fokker-Planck_phase_noise}
%\end{align}
%where the above equation is interpreted in the sense of distributions.
%
%by Example~\ref{example:Lie_Algebra_of_2-dimensional_Euclidean_motion_group},
%\eqref{eq:Fokker-Planck_phase_noise} can be rewritten
%\begin{align}
%    \begin{cases}
%        \D{1}[f]{t}(y, s; t) &= \left(-h(t) \LeftDifferentialOperatorFirstOrder {X_1}_{(y, s)} + C \LeftDifferentialOperatorFirstOrder {X_3}^2_{(y, s)}\right) f(y, s; t)\\
%        f(\dummy; 0) &= \DiracDelta{(0_{\R^2}, 0)}.
%    \end{cases}
%    \label{eq:Fokker-Planck_phase_noise:left-invariant_operators}
%\end{align}
%
%applying the Fourier Transform on both sides of the above with respect to $(y, s)$,
%we obtain
%\begin{align}
%    \begin{cases}
%        \D{1}{t} \hat f(\lambda; t) &= A(\lambda, t) \hat f(\lambda; t)\\
%        \hat f(\lambda; 0) &= \Id{\Lebesgue 2 \T},
%    \end{cases}
%    \quad
%    \label{eq:Fokker-Planck_phase_noise:Fourier_side}
%\end{align}
%where in the above $\hat f(\lambda, t) \defeq \Fourier [\MotionGroup 2] f(\lambda, t)$, and
%\begin{align}
%    A(\lambda, t) \defeq \left( -h(t) \Rep [\MotionGroup 2] \lambda (X_1) + C \Rep [\MotionGroup 2] \lambda ({X_3})^2 \right).
%    \label{eq:Fokker-Planck_phase_noise:linear_operator}
%\end{align}
%
%\begin{example}[$h \equiv C$]
%    In the case where $h \equiv C$ does not depend on time,
%    the solution of~\eqref{eq:Fokker-Planck_phase_noise:Fourier_side} is given by
%    \begin{align*}
%        \hat f(\lambda; t) = \e^{t A(\lambda)},
%    \end{align*}
%    where $A(\lambda) \defeq A(\lambda, t)$ was defined in~\eqref{eq:Fokker-Planck_phase_noise:linear_operator}.
%
%    Applying the inverse Fourier transform to the above,
%    we obtain that the solution of~\eqref{eq:Fokker-Planck_phase_noise} is given by
%    \begin{align*}
%        f(y, s; t) = \int_\VectorSpace \tr\left( \Rep [\MotionGroup 2] \lambda (y, s) \e^{t A(\lambda)} \right) \dd \lambda.
%    \end{align*}
%\end{example}

\subsection{Fourier Transform of distributions}

Although Subsection~\ref{subsection:Fourier_transform_of_distributions} already treated the problem of generalising the Fourier Transform for the purposes of pseudo-differential calculus,
let us mention some results that have been obtained explicitely for the motion group.

For a complete proof of the results stated in this subsection,
the reader is invited to consult~\cite{EguchiMasaakiKumahara80}.

\begin{definition}[Image of the Schwartz space]
    We shall denote by $\Schwartz{\dualGroup\Group}$
    the set of all functions $F \in \SmoothFunctions{\VectorSpace, \Lin{\Lebesgue{2}\CompactGroup}}$ such that:
    \begin{enumerate}
        \item For each $\alpha \in \N^{\dim \VectorSpace}$,
            $\D{\abs \alpha}[F]{\lambda^\alpha}$ leaves $\SmoothFunctions\CompactGroup$ stable;
        \item For each $N \in \N$, the quantity
            \begin{align*}
                \seminorm[\Schwartz{\dualGroup\Group}]{N}{F} \defeq
                \sup_{\abs\alpha, \abs\beta, \abs{\beta'} \leq N}
                &\sup_{\lambda \in \VectorSpace}
                {(1 + \abs\lambda)}^N\\
                &\norm[\Lin{\Lebesgue{2}\CompactGroup}]{%
                    \Rep\lambda(\LeftDifferentialOperator\beta)
                    \D{\abs \alpha}[F]{\lambda^\alpha}(\lambda)
                    \Rep\lambda(\LeftDifferentialOperator{\beta'})
                }
            \end{align*}
            is finite;
        \item For every $k \in \CompactGroup$ and each $\lambda \in \VectorSpace$,
            \begin{align*}
                F(k \lambda) = \LeftRegularRepresentation(k) F(k) \LeftRegularRepresentation(k^{-1}).
            \end{align*}
    \end{enumerate}
\end{definition}

One easily checks the following result.

\begin{lemma}
    The space $\Schwartz{\dualGroup\Group}$ is a Fr\'echet space
    whose topology is given by the seminorms $\seminorm[\Schwartz{\dualGroup\Group}]{N}{\dummy}$, $N \in \N$.
\end{lemma}

\begin{theorem}[\cite{EguchiMasaakiKumahara80}]
    The Fourier Transform is a topological isomorphism
    \begin{align*}
        \Fourier : \Schwartz \Group \to \Schwartz {\dualGroup \Group}
    \end{align*}
\end{theorem}

It then follows by classical arguments that we may extend the Fourier Transform onto $\TemperedDistributions \Group$.

\begin{proposition}[Fourier transform and duality]
    Let $f \in \Schwartz\Group$, and $H \in \Schwartz{\dualGroup\Group}$.
    We have the identities
    \begin{align*}
        \ip[\dualGroup\Group]{\Fourier f}{H}
        = \ip[\Group]{f}{\iota \circ \InverseFourier H},\quad
        \ip[\Group]{\InverseFourier H}{f}
        = \ip[\dualGroup\Group]{H}{\Fourier (\iota \circ f)},
    \end{align*}
    where $(\iota \circ f)(g) = f(g^{-1})$.
\end{proposition}

\begin{definition}[Fourier Transform on $\TemperedDistributions \Group$]
    Let $f \in \TemperedDistributions\Group$.
    We define the \emph{Fourier Transform} of $f$, $\Fourier f$,
    an element of $\TemperedDistributions{\dualGroup\Group}$, via
    \begin{align*}
        \ip[\dualGroup\Group]{\Fourier f}{H}
        \defeq \ip[\Group]{f}{\iota \circ \InverseFourier H},\quad
    \end{align*}
    for any $H \in \Schwartz{\dualGroup\Group}$.

    Similarly, let $H \in \TemperedDistributions{\dualGroup\Group}$.
    We define the tempered distribution $\InverseFourier H \in \TemperedDistributions\Group$,
    called the \emph{inverse Fourier Transform} of $H$, via
    \begin{align*}
        \ip[\Group]{\InverseFourier H}{f}
        = \ip[\dualGroup\Group]{H}{\Fourier (\iota \circ f)},
    \end{align*}
    for any $f \in \TemperedDistributions\Group$.
\end{definition}

\begin{proposition}
\label{proposition:image_of_tempered_distributions}
    The Fourier Transform is a topological linear isomorphism
    of $\TemperedDistributions\Group$ onto $\TemperedDistributions{\dualGroup\Group}$.
\end{proposition}

%\begin{definition}[$\LebesgueDual{2}{\Group}$]
%    We shall say that a map
%    \begin{align*}
%        \sigma : \dualGroup{\VectorSpace} \to \HilbertSchmidt{\Lebesgue{2}{\CompactGroup}}
%    \end{align*}
%    belongs to $\LebesgueDual{2}{\Group}$ if and only if the following conditions are met:
%    \begin{enumerate}
%        \item $\sigma$ is measurable;
%        \item for each $k \in \CompactGroup$, we have
%            \begin{align*}
%                \sigma(k \lambda) = R_k \sigma(\lambda) R_k^{-1}
%            \end{align*}
%        \item the quantity
%            \begin{align*}
%                \norm[\LebesgueDual{2}{\Group}]{\sigma} \defeq
%                    \left(
%                        \int_\dualGroup{\VectorSpace}
%                            \norm[\HilbertSchmidt{\Lebesgue{2}{\CompactGroup}}]{\sigma(\lambda)}^2
%                        \dd \Plancherel{\VectorSpace}(\lambda)
%                    \right)^{\frac{1}{2}}
%            \end{align*}
%            is finite.
%    \end{enumerate}
%
%    If $\sigma_1, \sigma_2 \in \LebesgueDual{2}{\Group}$, then we let
%    \begin{align*}
%        \ip[\LebesgueDual{2}{\Group}]{\sigma_1}{\sigma_2} \defeq
%        \int_\dualGroup{\VectorSpace}
%            \tr\left(
%                \sigma_1(\lambda) \adj{\sigma_2(\lambda)}
%            \right)
%        \dd \Plancherel{\VectorSpace}(\lambda).
%    \end{align*}
%    If we quotient $\LebesgueDual{2}{\Group}$ by $\Plancherel{\VectorSpace}$-almost everywhere equality,
%    which we shall do from now onwards,
%    then the above gives $\LebesgueDual{2}{\Group}$ the structure of a Hilbert space.
%\end{definition}
%
%\begin{definition}[$\Kernels{\Group}$]
%    We shall say that a tempered distribution $\kappa \in \TemperedDistributions{\Group}$ belongs to $\Kernels{\Group}$
%    if and only if the map
%    \begin{align}
%        T_\kappa : \Schwartz{\Group} \to \TemperedDistributions{\Group} : f \mapsto \conv{f}{\kappa}
%    \end{align}
%    extends to a continuous map from $\Lebesgue{2}{\Group}$ into itself.
%    In this case, we let
%    \begin{align*}
%        \norm[\Kernels{\Group}]{\kappa} \defeq \norm[\Lin{\Lebesgue{2}{\Group}}]{T_\kappa}.
%    \end{align*}
%\end{definition}
%
%\begin{definition}
%    We shall say that a map
%    \begin{align*}
%        \sigma : \dualGroup{\VectorSpace} \to \Lin{\Lebesgue{2}{\CompactGroup}}
%    \end{align*}
%    belongs to $\LebesgueDual{\infty}{\Group}$ if and only if it is invariant under $\CompactGroup$ and the quantity
%    \begin{align*}
%        \norm[\LebesgueDual{\infty}{\Group}]{\sigma} \defeq
%            \esssup_{\lambda \in \dualGroup{\VectorSpace}}
%                \norm[\Lin{\Lebesgue{2}{\CompactGroup}}]{\sigma(\lambda)}
%    \end{align*}
%    is finite.
%    The essential supremum is taken with respect to the Plancherel measure.
%\end{definition}
%
%\begin{theorem}[Abstract Plancherel formula]
%    The Fourier Transform can be extended to a \emph{surjective} isometry
%    \begin{align*}
%        \Fourier : \Lebesgue{2}{\Group} \to \LebesgueDual{2}{\Group}.
%    \end{align*}
%
%    Moreover, for every left-invariant operator $T \in \Lin{\Lebesgue{2}{\Group}}$,
%    there exists a unique element $\sigma \in \LebesgueDual{\infty}{\Group}$ such that
%    \begin{align*}
%        \Fourier\{T f\}(\lambda) = \sigma(\lambda) \Fourier f(\lambda)
%    \end{align*}
%    holds for $\Plancherel{\Group}$-almost every $\lambda \in \dualGroup{\VectorSpace}$.
%\end{theorem}

\section{Sobolev spaces}

The notion of \emph{order} of a pseudo-differential operator is mainly motivated by boundedness properties between Sobolev spaces.

\begin{definition}[Sobolev norm]
    Let $s \in \R$.
    If $\phi \in \Schwartz\Group$, we let
    \begin{align*}
        \norm[\Sobolev{s}]{\phi} \defeq
        \left(
            \int_\VectorSpace
                \norm[\HilbertSchmidt{\Lebesgue{2}{\CompactGroup}}]{%
                    \Rep\lambda \BesselPotential{s}
                    \Fourier \phi(\lambda)
                    }^2
            \dd \lambda
        \right)^{1 / 2}.
    \end{align*}
\end{definition}

\begin{definition}[Sobolev spaces]
\label{definition:Sobolev_spaces}
    Let $s \in \R$.
    We define the \emph{Sobolev space of order $s$} to be the completion of $\Schwartz\Group$ with the norm $\norm[\Sobolev{s}]{\dummy}$.
\end{definition}

The Sobolev spaces satisfy the following properties.

\begin{proposition}[Properties of the Sobolev spaces]
\label{proposition:elementary_properties_of_Sobolev_spaces}
    Let $s \in \R$.
    The Sobolev space of order $s$, $\Sobolev s$, satisfies the following properties.
    \begin{itemize}
        \item If $s = 0$, then $\Sobolev s = \Lebesgue 2 \Group$.
        \item If $s' \leq s$, then $\Sobolev s \subset \Sobolev {s'}$,
            and the inclusion is continuous.
        \item If $\alpha \in \N^{\dim \Group}$, then $\LeftDifferentialOperator \alpha f \in \Sobolev {s - \abs \alpha}$
            for each $f \in \Sobolev s$,
            and the map
            \begin{align*}
                \LeftDifferentialOperator \alpha : \Sobolev s \to \Sobolev {s - \abs \alpha}
            \end{align*}
            is continuous.
    \end{itemize}
\end{proposition}
\begin{proof}
    Let us show all three properties separately.
    \begin{itemize}
        \item
            Suppose $s = 0$.
            It is straightforward to check that
            \begin{align*}
                \norm [\Sobolev 0] \dummy = \norm [\Lebesgue 2 \Group] \dummy
            \end{align*}
            by applying the Plancherel formula (Proposition~\ref{proposition:Plancherel_formula}).
            Since $\Schwartz \Group$ is dense in $\Lebesgue 2 \Group$
            and $\Lebesgue 2 \Group$ is complete, %TODO: references
            we then conclude that $\Sobolev 0 = \Lebesgue 2 \Group$.
        \item
            Suppose that $s' \leq s$.
            If $\phi \in \Schwartz \Group$,
            it should be clear that
            \begin{align*}
                \norm [\Sobolev {s'}] \phi
                &\leq \norm [\Lin {\Lebesgue 2 \CompactGroup}] {\Rep \lambda \BesselPotential {s' - s}} \norm [\LebesgueDual 2 \Group] {\Rep \lambda \BesselPotential s \phi}\\
                &\leq \norm [\LebesgueDual 2 \Group] {\Rep \lambda \BesselPotential s \phi} = \norm [\Sobolev s] \phi.
            \end{align*}

            By a classical density argument
            (see e.g.\ \cite[Proposition 3.2.3]{Willem2013}),
            it follows that the map
            \begin{align*}
                I : (\Schwartz \Group, \norm [\Lebesgue 2 s] {\dummy}) \to \Sobolev {s'} : \phi \mapsto \phi
            \end{align*}
            can be continuously extended onto its closure,
            yielding the required inclusion.
        \item
            Let $\alpha \in \N^{\dim \Group}$.
            If $\phi \in \Schwartz \Group$,
            \begin{align*}
                \norm [\Sobolev {s - \abs \alpha}] {\LeftDifferentialOperator \alpha \phi}
                &\leq \norm [\Lin {\Lebesgue 2 \CompactGroup}] {I_{s, \alpha}} \norm [\LebesgueDual 2 \Group] {\Rep \lambda \BesselPotential s \phi},
            \end{align*}
            where
            \begin{align*}
                I_{s, \alpha} \defeq \Rep \lambda \BesselPotential {s - \abs \alpha} \Rep \lambda (X)^\alpha \Rep \lambda \BesselPotential{-s}
            \end{align*}

            One easily checks that $\norm [\Lin{\Lebesgue 2 \CompactGroup}] {I_{s, \alpha}} < \infty$,
            so that a density argument tells us yields the existence of a unique continuous extension of
            \begin{align*}
                \LeftDifferentialOperator \alpha : \Sobolev s \to \Sobolev {s - \abs \alpha}.
            \end{align*}

            Naturally, because the canonical inclusion
            \begin{align*}
                \Sobolev s \hookrightarrow \TemperedDistributions \Group
            \end{align*}
            is continuous,
            the above extended map $\LeftDifferentialOperator \alpha$ is the same as the corresponding distributional derivative.
    \end{itemize}
\end{proof}

A classical strategy to show that a distribution is a continuous function
is to show that it belongs to a Sobolev space $\Sobolev s$ for a sufficiently large $s \in \R$.
This strategy can only be successful provided we can prove \emph{Sobolev embeddings}.

\begin{lemma}
\label{lemma:integrability_of_the_Schatten_class_of_the_Bessel_potential}
    Let $s > \dim \Group$.
    The map
    \begin{align*}
        \lambda \in \VectorSpace \mapsto \norm [\SchattenClasses 1 {\Lebesgue 2 \CompactGroup}] {\Rep \lambda \BesselPotential {-s}}
    \end{align*}
    is finite almost everywhere and integrable over $\VectorSpace$.
\end{lemma}
\begin{proof}
    For each $s \in \R$, we let
    \begin{align*}
        I(s) \defeq \int_\VectorSpace \tr(\Rep \lambda \BesselPotential {-s}) \dd \lambda.
    \end{align*}
    Now, fix $s > \dim \Group$, and let us show that $I(s)$ is finite.

    It is clear that
    \begin{align*}
        I(s) \asymp \int_\VectorSpace \sum_{\tau \in \dualGroup \CompactGroup} \dimRep \tau (\norm \lambda + \JapaneseBracket \CompactGroup \tau)^{-s} \dd \lambda,
    \end{align*}
    which, after integrating via polar coordinates, yields
    \begin{align*}
        I(s) \asymp \int_{\R^+} \sum_{\tau \in \dualGroup \CompactGroup} \dimRep \tau (r + \JapaneseBracket \CompactGroup \tau)^{-s} r^{\dim \VectorSpace - 1} \dd r.
    \end{align*}

    Now, substituting $r$ for $r - \JapaneseBracket \CompactGroup \tau$,
    we obtain
    \begin{align*}
        I(s) &\asymp \int_{\JapaneseBracket \CompactGroup \tau}^{+\infty} \sum_{\tau \in \dualGroup \CompactGroup} \dimRep \tau r^{-s} (r - \JapaneseBracket \CompactGroup \tau)^{\dim \VectorSpace - 1} \dd r\\
        &\asymp \int_{\JapaneseBracket \CompactGroup \tau}^{+\infty} \sum_{\tau \in \dualGroup \CompactGroup} \sum_{k = 0}^{\dim \VectorSpace - 1} \dimRep \tau r^{-s + k} \JapaneseBracket \CompactGroup \tau^{\dim \VectorSpace - k - 1} \dd r.
    \end{align*}

    Since $s > \dim \Group$,
    we can check that
    \begin{align*}
        \int_{\JapaneseBracket \CompactGroup \tau}^{+\infty} r^{-s + k} \dd r \approx \JapaneseBracket \CompactGroup \tau^{-s + k + 1},
    \end{align*}
    which would imply that
    \begin{align*}
        I(s)
        &\asymp \sum_{\tau \in \dualGroup \CompactGroup} \dimRep \tau \JapaneseBracket \CompactGroup \tau^{-s + \dim \VectorSpace},
    \end{align*}
    However, \cite[Lemma 6.3]{Fischer2015}
    \begin{align*}
        -s + \dim \VectorSpace < -\dim \CompactGroup,
    \end{align*}
    or more simply if and only if $s > \dim \Group$.
\end{proof}

\begin{proposition}[Sobolev embedding]
\label{proposition:Sobolev_embedding}
    If $s > \dim \Group / 2$, then we have the following continuous inclusion
    \begin{align*}
        \Sobolev{s} \subset \ContinuousFunctions\Group \cap \Lebesgue{\infty}{\Group}.
    \end{align*}
    More precisely, there exists $C \geq 0$ such that the following property holds:
    for every $f \in \Sobolev{s}$,
    there exists a continuous function $\tilde{f} \in \ContinuousFunctions\Group$ such that $f = \tilde{f}$ almost everywhere and
    \begin{align*}
        \norm[\ContinuousFunctions\Group]{\tilde{f}} \leq C \norm[\Sobolev{s}]{f}.
    \end{align*}
\end{proposition}
\begin{proof}
    Let $s > \dim \Group / 2$.
    By Lemma~\ref{lemma:integrability_of_the_Schatten_class_of_the_Bessel_potential} and Proposition~\ref{proposition:Plancherel_formula},
    $\BesselPotentialKernel s \in \Lebesgue 2 \Group$.
    Therefore,
    \begin{align*}
        f = \conv {\BesselPotential {-s} f} {\BesselPotentialKernel s},
    \end{align*}
    can be written as the convolution of two functions in $\Lebesgue 2 \Group$.
    The conclusion now follows from Proposition~\ref{proposition:integrability_of_the_convolution_of_two_L1_functions}.
\end{proof}

The Sobolev embedding theorem allows us to extend the Fourier inversion formula onto Sobolev spaces.
To show this,
we first show the following technical result.

\begin{lemma}
\label{lemma:preparation_for_general_inverse_formula}
    Let $f \in \Sobolev s$ for $s > \dim \Group / 2$.
    For almost every $\lambda \in \VectorSpace$,
    the operator $\Fourier f(\lambda)$ is trace class and we have the estimate
    \begin{align*}
        \int_\VectorSpace \norm [\SchattenClasses 1 {\Lebesgue 2 \CompactGroup}] {\Fourier f(\lambda)} \dd \lambda
        \leq C \norm [\Sobolev s] f.
    \end{align*}
    In particular,
    if a sequence $(f_j)_{j \in \N} \subset \Sobolev s$ converges to $f$ in $\Sobolev s$,
    then we have
    \begin{align*}
        \lim_{j \to \infty} \int_\VectorSpace \tr(\Rep \lambda (g) \Fourier {f_j}(\lambda)) \dd \lambda
        = \int_\VectorSpace \tr(\Rep \lambda (g) \Fourier f(\lambda)) \dd \lambda.
    \end{align*}
    for every $g \in \Group$.
\end{lemma}
\begin{proof}
    Suppose that $f \in \Sobolev s$.
    By definition, the distribution
    \begin{align*}
        f_s \defeq \BesselPotential s f
    \end{align*}
    belongs to $\Lebesgue 2 \Group$.
    By the Cauchy-Schwartz inequality for Schatten classes,
    we have
    \begin{align}
        \norm [\SchattenClasses 1 {\Lebesgue 2 \CompactGroup}] {\Fourier f(\lambda)}
        \leq
        \norm [\SchattenClasses 2 {\Lebesgue 2 \CompactGroup}] {\Rep \lambda \BesselPotential {-s}}
        \norm [\SchattenClasses 2 {\Lebesgue 2 \CompactGroup}] {\Fourier f_s(\lambda)}.
        \label{eq:estimate_on_Schatten_norm_of_Fourier_coefficient}
    \end{align}
    The first Hilbert-Schmidt norm on the left-hand side is finite by Proposition~\ref{proposition:Sobolev_embedding},
    whilst the second one is finite for almost every $\lambda \in \VectorSpace$ by the Plancherel formula (Proposition \ref{proposition:Plancherel_formula}).
    Therefore, we have so far shown that
    \begin{align*}
        \norm [\SchattenClasses 1 {\Lebesgue 2 \CompactGroup}] {\Fourier f(\lambda)}
        < \infty,
    \end{align*}
    i.e.\ $\Fourier f(\lambda)$ is trace class for almost every $\lambda \in \VectorSpace$.

    Integrating both sides of~\eqref{eq:estimate_on_Schatten_norm_of_Fourier_coefficient} with respect to $\lambda$,
    we obtain
    \begin{align}
        \int_\VectorSpace
            &\norm [\SchattenClasses 1 {\Lebesgue 2 \CompactGroup}] {\Fourier f(\lambda)}
        \dd \lambda \notag\\
        &\leq
        \int_\VectorSpace
            \norm [\SchattenClasses 2 {\Lebesgue 2 \CompactGroup}] {\Rep \lambda \BesselPotential {-s}}
            \norm [\SchattenClasses 2 {\Lebesgue 2 \CompactGroup}] {\Fourier f_s(\lambda)}
        \dd \lambda \notag\\
        &\leq
        \norm [\LebesgueDual 2 \Group] {\Rep \dummy \BesselPotential {-s}}
        \norm [\Lebesgue 2 \Group] {f_s},
        \label{eq:L2_norm_of_Bessel_potential_times_L2_norm_of_fs}
    \end{align}
    where the last line was obtained via the Cauchy-Schwartz inequality on $\Lebesgue 2 \VectorSpace$
    and the Plancherel formula.
    By the Sobolev embeddings (Proposition~\ref{proposition:Sobolev_embedding}),
    the right-hand side of~\eqref{eq:L2_norm_of_Bessel_potential_times_L2_norm_of_fs} is finite,
    so that the equation becomes
    \begin{align}
        \int_\VectorSpace
            \norm [\SchattenClasses 1 {\Lebesgue 2 \CompactGroup}] {\Fourier f(\lambda)}
        \dd \lambda
        \leq C \norm [\Sobolev s] {f}.
        \label{eq:Sobolev_inclusion_into_fields_with_integrable_S1_norm}
    \end{align}

    Now, fix a sequence $(f_j)_{j \in \N} \subset \Sobolev s$ converging to $f$.
    By applying~\eqref{eq:Sobolev_inclusion_into_fields_with_integrable_S1_norm} to $f_j - f$,
    we obtain
    \begin{align*}
        &\abs {\int_\VectorSpace \tr(\Rep \lambda (g)\Fourier \{f - f_j\}(\lambda)) \dd \lambda}\\
        &\quad \leq \int_\VectorSpace \norm [\SchattenClasses 1 {\Lebesgue 2 \CompactGroup}] {\Fourier \{f - f_j\}(\lambda)} \dd \lambda\\
        &\quad \leq C \norm [\Sobolev s] {f - f_j}.
    \end{align*}

    Letting $j \to \infty$ in the above,
    we obtain the desired conclusion.
\end{proof}

We are now ready to prove the following generalisation of Proposition~\ref{proposition:inverse_Fourier_Transform}.

\begin{proposition}[Fourier inverse formula]
\label{proposition:general_Fourier_inverse_formula}
    Let $f \in \Sobolev s$ for $s > \dim \Group / 2$.
    For almost every $\lambda \in \VectorSpace$,
    the operator $\Fourier f(\lambda)$ is trace class and the map
    \begin{align*}
        \lambda \in \VectorSpace \mapsto \norm [\SchattenClasses 1 {\Lebesgue 2 \CompactGroup}] {\Fourier f(\lambda)}
    \end{align*}
    is integrable on $\VectorSpace$.
    Moreover, $f$ is continuous on $\Group$ and for every $g \in \Group$, the map
    \begin{align*}
        \Group \to \C : g \mapsto \int_\VectorSpace \tr\left(\Rep \lambda (g) \Fourier f(\lambda)\right) \dd \lambda.
    \end{align*}
    is continuous and equal to $f$ almost-everywhere.
\end{proposition}
\begin{proof}
    The first claim follows immediately from Lemma~\ref{lemma:preparation_for_general_inverse_formula}.

    Now, select a sequence ${(f_j)}_{j \in \N} \subset \Schwartz \Group$ such that
    \begin{align*}
        \lim_{j \to \infty} \norm [\Sobolev s] {f_j - f} = 0.
    \end{align*}

    By the inverse formula on $\Schwartz \Group$ (Proposition~\ref{proposition:inverse_Fourier_Transform}),
    we have
    \begin{align*}
        f_j(g)
        = \int_\VectorSpace \tr\left(\Rep \lambda(g) \Fourier f_j(\lambda)\right) \dd \lambda,
    \end{align*}
    for each $j \in \N$.

    By the Sobolev embedding theorem (Proposition~\ref{proposition:Sobolev_embedding}),
    $f_j$ converges uniformly to a continuous function $\tilde f$ which is equal to $f$ almost everywhere.
    In particular, this means that we have
    \begin{align*}
        \tilde f(g)
        &= \lim_{j \to \infty} f_j(g)\\
        &= \lim_{j \to \infty} \int_\VectorSpace \tr\left(\Rep \lambda(g) \Fourier f_j(\lambda)\right) \dd \lambda\\
        &= \int_\VectorSpace \tr\left(\Rep \lambda(g) \Fourier f(\lambda)\right) \dd \lambda,
    \end{align*}
    concluding the proof.
\end{proof}

\begin{corollary}
    Let $s > \dim \Group / 2 + k$, where $k \in \N$.
    If $f \in \Sobolev s$,
    then $f \in \Class k$.
\end{corollary}
\begin{proof}
    Let $\alpha \in \N^{\dim \Group}$ be such that $\abs \alpha \leq k$.
    By Proposition~\ref{proposition:elementary_properties_of_Sobolev_spaces},
    $\LeftDifferentialOperator \alpha f \in \Sobolev {s - \abs \alpha}$.

    Applying Proposition~\ref{proposition:general_Fourier_inverse_formula},
    we obtain that $\LeftDifferentialOperator \alpha f$ is continuous.

    We conclude that $f \in \Class k$ by observing that $\alpha$ is arbitrary.
    % TODO reference for characterization of class k.
\end{proof}

%\subsection{Fourier Transform of distributions}
%
%For the sequel, we need to be able to take the Fourier Transform of certain distributions.
%To this end, we follow the ideas of \cite{FischerRuzhansky16}.
%
%\begin{definition}
%    Let $a, b \in \R$.
%    We shall say that $f \in \TemperedDistributions\Group$ belongs to $\KernelsSobolev{a}{b}$ if and only if the map
%    \begin{align*}
%        \Schwartz\Group \to \Schwartz\Group : \phi \to \conv{\phi}{f}
%    \end{align*}
%    is a continuous map in $\Lin{\Sobolev{a}, \Sobolev{b}}$.
%\end{definition}
%
%\begin{definition}
%    Let $a, b \in \R$.
%    We shall say that a map
%    \begin{align*}
%        \sigma : \dualGroup\VectorSpace \to \End(\SmoothFunctions{\CompactGroup})
%    \end{align*}
%    belongs to $\LebesgueDual[a, b]{\infty}{\Group}$ if and only if
%    \begin{enumerate}
%        \item TODO: Invariance condition
%        \item The map
%            \begin{align*}
%                \lambda \in \dualGroup\VectorSpace \mapsto
%                \Rep\lambda \BesselPotential{b} \sigma(\lambda) \Rep\lambda \BesselPotential{-a}
%            \end{align*}
%            belongs to $\LebesgueDual{\infty}{\Group}$.
%    \end{enumerate}
%\end{definition}
%
%\begin{proposition}[Extension of the Fourier Transform]
%    Define the sets
%    \begin{align*}
%        K \defeq \bigcup_{a, b \in \R} \KernelsSobolev{a}{b}, \quad
%        L \defeq \bigcup_{a, b \in \R} \LebesgueDual[a, b]{\infty}{\Group}.
%    \end{align*}
%
%    The Fourier Transform can be extended as a bijective map
%    \begin{align*}
%        \Fourier : K \to L,
%    \end{align*}
%    and preserve the following properties.
%    \begin{enumerate}
%        \item If $f \in \Lebesgue{1}{\Group}$, then it coincides with Definition~\ref{definition:Fourier_Transform}.
%        \item If $f_1, f_2 \in K$ are such that $\conv{f_1}{f_2} \in K$, then
%            \begin{align*}
%                \Fourier\{\conv{f_1}{f_2}\} = \Fourier f_2 \Fourier f_1.
%            \end{align*}
%        \item If $f \in \SmoothFunctions{\Group} \cap K$, $X \in \LieAlgebra$ and $\LeftDifferentialOperatorFirstOrder{X} f \in K$, then
%            \begin{align*}
%                \Fourier\{\LeftDifferentialOperatorFirstOrder{X} f\}(\lambda) = \Rep\lambda(X) \Fourier f(\lambda).
%            \end{align*}
%    \end{enumerate}
%\end{proposition}

\section{Taylor formula}

As in the Euclidean case,
the composition and adjunction formulae rely on a \emph{Taylor expansion}.

Intuitively,
we shall say a collection of smooth functions is~\emph{admissible}
if they can be used to perform a Taylor expansion.

\begin{definition}
\label{definition:admissibility_of_polynomials}
\index{polynomials!admissibility}
    A finite collection $q_1$, \dots, $q_M \in \SmoothFunctions{\Group}$ of smooth functions is said to be \emph{admissible}
    if $\dd q_j(e) \neq 0$ for each $j \in \{1, \cdots, M\}$
    and if
    \begin{align*}
        \rank(\dd q_1(e), \cdots, \dd q_m(e)) = \dim \Group.
    \end{align*}

    Moreover, if
    \begin{align*}
        \bigcap_{j = 1}^M \{ q_j = 0 \} = \{e\},
    \end{align*}
    we shall say that the collection is \emph{strongly admissible}.
\end{definition}

The notion of \emph{strong admissibility} was introduced in~\cite{RuzhanskyTurunenWirth10} to ensure the kernels of pseudo-differential operators would only have singularities at the origin (see Chapter~\ref{chapter:symbolic_calculus}).

From now on,
we let $q_1, \dots, q_{\dim \Group} \in \SmoothFunctions \Group$
be a strongly admissible family.

Moreover, we fix a basis $X_1, \dots, X_{\dim \Group} \in \LieAlgebra$ such that
\begin{align*}
    \LeftDifferentialOperatorFirstOrder {X_j} q_k(\dummy^{-1})(e_\Group) = \Kronecker j k
\end{align*}
for each $j, k \in \{1, \dots, \dim \Group\}$.
To insist that the basis is adapted to our family of smooth functions,
we shall write
\begin{align*}
    \TaylorLeftDifferentialOperator \alpha
    \defeq
    X^{\alpha_1}_1 \dots X^{\alpha_{\dimDifferenceOperators}}_{\dimDifferenceOperators}
\end{align*}

\begin{definition}[Distance to the origin]
    Let $g = (x, k) \in \Group$.
    We define the \emph{distance} of $g$ to the identity $e_\Group$ via
    \begin{align*}
        \norm [\Group] g^2
        \defeq
        \norm x^2 + \dist [\CompactGroup] k {e_\CompactGroup}^2,
    \end{align*}
    where $\dist [K] \dummy \dummy$ is a left-invariant Riemannian distance.
\end{definition}

We now define an analogue of the Euclidean Taylor development and the associated remainder.

\begin{definition}[Taylor development and remainder]
    Let $f \in \Group$ and $g \in \Group$.
    For each $N \in \N$,
    we define the \emph{Taylor development of $f$ at $g$} of order $N$ to be
    \begin{align*}
        \TaylorPolynomial f g N(h)
        \defeq
        \begin{cases}
            \sum_{\abs \alpha \leq N} \frac 1 {\alpha!} q^\alpha(h^{-1}) \TaylorLeftDifferentialOperator \alpha f(g) & \text{if } N \geq 0\\
            0 & \text{if } N < 0,
        \end{cases}
    \end{align*}
    where $h \in \Group$.

    Moreover,
    we define the \emph{Taylor remainder} of $f$ of order $N$ at $g \in \Group$ via
    \begin{align*}
        \TaylorRemainder f g N(h) \defeq
        f(g h) - \TaylorPolynomial f g N(h).
    \end{align*}
\end{definition}

The Taylor polynomial was defined so that the following property holds.

\begin{lemma}
\label{lemma:derivative_of_Taylor_polynomial_and_remainder}
    Let $N \in \N$, $\beta \in \N^{\dim \Group}$.
    For each $f \in \SmoothFunctions \Group$,
    we have
    \begin{align*}
        \TaylorLeftDifferentialOperator \beta \TaylorPolynomial f g N (e_\Group)
        = \TaylorPolynomial {\TaylorLeftDifferentialOperator \beta f} g {N - \abs \beta} (e_\Group),
        \quad
        \TaylorLeftDifferentialOperator \beta \TaylorRemainder f g N (e_\Group)
        = \TaylorRemainder {\TaylorLeftDifferentialOperator \beta f} g {N - \abs \beta} (e_\Group).
    \end{align*}
\end{lemma}

By using local charts on $\CompactGroup$ and extending onto $\CompactGroup$ via a partition of unity,
we can show the following estimate on the remainder.

\begin{proposition}[Taylor's theorem]
\label{proposition:Taylor_theorem}
    Let $f \in \SmoothFunctions \Group$ and $g \in \Group$.
    There exists $\eta \geq 1$ satisfying the following property:
    for every $N \in \Group$,
    there exists $C \geq 0$ such that
    \begin{align*}
        \abs {\TaylorRemainder f g N (h)}
        \leq
        C \norm [\Group] h^{N + 1}
        \sup_{\abs \alpha \leq N + 1}
        \sup_{\norm [\Group] z \leq \eta \norm [\Group] h}
        \abs {\TaylorLeftDifferentialOperator \alpha f(g z)}.
    \end{align*}
    for every $h \in \Group$.
\end{proposition}
